<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Analytics Case Study - Handel Enriquez</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #007A7A 0%, #004040 100%);
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        
        .presentation-container {
            width: 100vw;
            min-height: 100vh;
            background: white;
            overflow-x: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #000000, #7F1734);
            color: white;
            padding: 2rem;
            text-align: center;
            width: 100%;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }
        
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .nav-tabs {
            display: flex;
            background: #007A7A;
            border-bottom: 1px solid #004040;
            overflow-x: auto;
            width: 100%;
        }
        
        .nav-tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 0.95rem;
            font-weight: 500;
            color: white;
            transition: all 0.3s ease;
            white-space: nowrap;
            flex: 1;
            text-align: center;
        }
        
        .nav-tab.active {
            background: white;
            color: #007A7A;
            border-bottom: 3px solid #7F1734;
        }
        
        .nav-tab:hover:not(.active) {
            background: #004040;
            color: white;
        }
        
        .content-section {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.5s ease-in-out;
            width: 100%;
            box-sizing: border-box;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }
        
        .card h3 {
            color: #2d3748;
            margin-bottom: 1rem;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #007A7A, #7F1734);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .recommendation {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
        }
        
        .recommendation h4 {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .experience-item {
            border-left: 4px solid #007A7A;
            padding-left: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .experience-item h4 {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }
        
        .btn {
            background: #007A7A;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            margin: 0.5rem 0.5rem 0.5rem 0;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            color: white;
            text-decoration: none;
        }
        
        .technical-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .tech-badge {
            background: #e2e8f0;
            color: #2d3748;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .data-table th {
            background: #4a5568;
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }

        .profile-section {
            background: linear-gradient(135deg, #4a5568, #2d3748);
            color: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 12px;
        }

        .profile-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            align-items: center;
        }

        .contact-info {
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: 8px;
        }

        .contact-info h4 {
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .contact-info p {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .notebook-button {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .notebook-button:hover {
            border-color: #007A7A;
            background: #edf2f7;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
            text-decoration: none;
            color: inherit;
        }

        .notebook-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        @media (max-width: 768px) {
            .profile-grid {
                grid-template-columns: 1fr;
            }
            
            .metric-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="header">
            <h1>Marketing Analytics Case Study</h1>
            <div class="subtitle">Data-Driven Marketing Budget Optimization for ABC Inc.</div>
            <div style="margin-top: 1rem; font-size: 1rem; opacity: 0.8;">
                Presented by Handel Enriquez | Data Engineer
            </div>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('overview')">Executive Summary</button>
            <button class="nav-tab" onclick="showSection('analytics-deep-dive')">Analytics Deep Dive</button>
            <button class="nav-tab" onclick="showSection('data-analysis')">Data Analysis</button>
            <button class="nav-tab" onclick="showSection('insights')">Key Insights</button>
            <button class="nav-tab" onclick="showSection('recommendations')">Recommendations</button>
            <button class="nav-tab" onclick="showSection('notebooks')">Technical Analysis</button>
            <button class="nav-tab" onclick="showSection('technical')">Technical Approach</button>
        </div>
        
        <!-- Executive Summary Section -->
        <div id="overview" class="content-section active">
            <div class="profile-section">
                <div class="profile-grid">
                    <div class="contact-info">
                        <h4>Contact Information</h4>
                        <p>üíº LinkedIn: linkedin.com/in/handell-enriquez-38139b234</p>
                        <p>üìç San Jos√©, Costa Rica</p>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 1rem;">Professional Summary</h3>
                        <p>Dynamic Data Engineer with 5+ years developing end-to-end data solutions using AWS. Specialized in ETL processes, real-time dashboards, and data-driven decision making. Proven track record at Amazon and Moody's Analytics.</p>
                        <div class="technical-stack" style="margin-top: 1rem;">
                            <span class="tech-badge">Python</span>
                            <span class="tech-badge">SQL</span>
                            <span class="tech-badge">AWS</span>
                            <span class="tech-badge">Azure Fabric</span>
                            <span class="tech-badge">Databricks</span>
                            <span class="tech-badge">Power BI</span>
                            <span class="tech-badge">QuickSight</span>
                            <span class="tech-badge">Machine Learning</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üéØ Business Challenge</h3>
                <p><strong>ABC Inc.</strong> needs data-driven recommendations for Q3/2023 marketing budget allocation to maximize free trial registrations. Current marketing mix includes multi-channel campaigns, social media, referrals, and trade shows targeting IT decision makers.</p>
            </div>

            <div class="metric-grid">
                <div class="metric-card">
                    <div class="metric-value">1,000</div>
                    <div class="metric-label">Total Prospects</div>
                </div>
                <div class="metric-card" onclick="showCalculation('conversion')" style="cursor: pointer;">
                    <div class="metric-value">12.7%</div>
                    <div class="metric-label">Overall Conversion Rate</div>
                    <div style="font-size: 0.7rem; opacity: 0.8; margin-top: 0.3rem;">üìä Click for calculation details</div>
                </div>
                <div class="metric-card" onclick="showCalculation('noshow')" style="cursor: pointer;">
                    <div class="metric-value">66.2%</div>
                    <div class="metric-label">Critical No-Show Rate</div>
                    <div style="font-size: 0.7rem; opacity: 0.8; margin-top: 0.3rem;">‚ö†Ô∏è Click for impact analysis</div>
                </div>
                <div class="metric-card" onclick="showCalculation('opportunity')" style="cursor: pointer;">
                    <div class="metric-value">$800K</div>
                    <div class="metric-label">Optimization Opportunity</div>
                    <div style="font-size: 0.7rem; opacity: 0.8; margin-top: 0.3rem;">üí∞ Click for ROI breakdown</div>
                </div>
            </div>

            <div class="recommendation">
                <h4>üöÄ Key Recommendations</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin: 0.5rem 0;">‚úÖ <strong>Reduce No-Show Rate by 25%</strong> - Deploy ML lead scoring & automated nurturing</li>
                    <li style="margin: 0.5rem 0;">‚úÖ <strong>Reallocate Budget by 35%</strong> - Shift from paid search to direct mail/referrals</li>
                    <li style="margin: 0.5rem 0;">‚úÖ <strong>Target Decision Makers</strong> - Focus on high-converting demographic segments</li>
                    <li style="margin: 0.5rem 0;">‚úÖ <strong>Geographic Optimization</strong> - Expand in high-performing urban markets</li>
                </ul>
            </div>
        </div>

        <!-- Analytics Deep Dive Section -->
        <div id="analytics-deep-dive" class="content-section">
            <div class="card">
                <h3>üìä Comprehensive Analytics Journey</h3>
                <p>Explore the complete analytical framework with interactive storytelling based on our 5-notebook analysis pipeline.</p>
                <div style="margin-top: 20px;">
                    <a href="website/analytics-insights.html" target="_blank" class="cta-button" style="display: inline-block; padding: 15px 30px; background: linear-gradient(135deg, #007A7A 0%, #7F1734 100%); color: white; text-decoration: none; border-radius: 10px; font-weight: 600; transition: transform 0.3s ease;">
                        Launch Interactive Analytics Dashboard ‚Üí
                    </a>
                </div>
                
                <div style="margin-top: 30px;">
                    <h4>What You'll Discover:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; background: #f8f9fa;">
                            <h5>üîç Data Exploration</h5>
                            <p>Deep dive into channel performance, geographic patterns, and temporal trends with interactive visualizations.</p>
                        </div>
                        <div style="border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; background: #f8f9fa;">
                            <h5>üõ†Ô∏è Data Engineering</h5>
                            <p>Advanced ETL pipelines, feature engineering, and data quality frameworks with production-ready code.</p>
                        </div>
                        <div style="border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; background: #f8f9fa;">
                            <h5>üìà Funnel Analysis</h5>
                            <p>Comprehensive conversion analysis, customer journey mapping, and temporal optimization strategies.</p>
                        </div>
                        <div style="border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; background: #f8f9fa;">
                            <h5>üí∞ Budget Optimization</h5>
                            <p>Mathematical optimization with Monte Carlo risk analysis and scenario planning frameworks.</p>
                        </div>
                        <div style="border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; background: #f8f9fa;">
                            <h5>ü§ñ Machine Learning</h5>
                            <p>Production-ready ML models, customer segmentation, and statistical hypothesis testing.</p>
                        </div>
                        <div style="border: 1px solid #e9ecef; border-radius: 10px; padding: 20px; background: #f8f9fa;">
                            <h5>üìã Implementation</h5>
                            <p>90-day roadmap with phased approach, risk mitigation, and expected business impact.</p>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 30px;">
                    <h4 style="margin-bottom: 20px; color: #2d3748;">Key Analytics Results:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div style="text-align: center; padding: 25px; background: linear-gradient(135deg, #2d3748, #1a202c); border-radius: 12px; color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                            <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 8px;">1,000</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Prospects Analyzed</div>
                        </div>
                        <div style="text-align: center; padding: 25px; background: linear-gradient(135deg, #007A7A, #004040); border-radius: 12px; color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                            <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 8px;">$1.8M</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Revenue Opportunity</div>
                        </div>
                        <div style="text-align: center; padding: 25px; background: linear-gradient(135deg, #7F1734, #5a1025); border-radius: 12px; color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                            <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 8px;">75-85%</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Model Accuracy</div>
                        </div>
                        <div style="text-align: center; padding: 25px; background: linear-gradient(135deg, #4a5568, #2d3748); border-radius: 12px; color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                            <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 8px;">5</div>
                            <div style="font-size: 0.9rem; opacity: 0.9;">Distinct Segments</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Analysis Section -->
        <div id="data-analysis" class="content-section">
            <div class="card">
                <h3>üìä Interactive Data Analysis Filters</h3>
                <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
                    <select id="channelFilter" onchange="updateAnalysis()" style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                        <option value="all">All Channels</option>
                        <option value="referral">Referral (25% conv)</option>
                        <option value="advertisement">Advertisement (12.7% conv)</option>
                        <option value="tradeshow">Trade Show (10.4% conv)</option>
                        <option value="socialmedia">Social Media (0% conv)</option>
                    </select>
                    <select id="statusFilter" onchange="updateAnalysis()" style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                        <option value="all">All Statuses</option>
                        <option value="registered">Registered (12.7%)</option>
                        <option value="noshow">No Show (66.2%)</option>
                        <option value="attended">Attended (11.7%)</option>
                        <option value="responded">Responded (9.4%)</option>
                    </select>
                    <select id="geoFilter" onchange="updateAnalysis()" style="padding: 0.5rem; border-radius: 5px; border: 1px solid #ccc;">
                        <option value="all">All Regions</option>
                        <option value="france">France (25% conv)</option>
                        <option value="china">China (20% conv)</option>
                        <option value="usa">United States (10% conv)</option>
                        <option value="canada">Canada (12% conv)</option>
                    </select>
                    <button onclick="resetFilters()" class="btn" style="padding: 0.5rem 1rem;">Reset Filters</button>
                </div>
            </div>
            
            <div class="card">
                <h3>üìä Prospect Outcomes Analysis (Corrected Interpretation)</h3>
                <div class="chart-container">
                    <canvas id="funnelChart" width="400" height="200"></canvas>
                </div>
                <div style="background: #fff3cd; padding: 1rem; border-radius: 8px; margin-top: 1rem; border-left: 4px solid #ffc107;">
                    <h4 style="color: #856404; margin: 0 0 0.5rem 0;">‚ö†Ô∏è Important: These are FINAL OUTCOMES, not funnel stages</h4>
                    <p style="margin: 0; color: #856404;"><strong>Critical Finding:</strong> 66.2% no-show rate (662 prospects) represents immediate optimization target. Even 20% reduction = +17 additional conversions</p>
                </div>
            </div>

            <div class="card">
                <h3>üéØ Channel Performance Analysis - CORRECTED DATA</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Channel</th>
                            <th>Volume (Share)</th>
                            <th>Conversions</th>
                            <th>Rate</th>
                            <th>Calculation</th>
                            <th>Strategic Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="showChannelDetail('referral')" style="cursor: pointer; transition: background 0.3s;">
                            <td><strong>Referral</strong></td>
                            <td>40 (4%)</td>
                            <td>10</td>
                            <td style="color: #48bb78; font-weight: bold;">25.0%</td>
                            <td style="font-size: 0.85rem;">10/40 = 0.25</td>
                            <td>üåü SCALE IMMEDIATELY</td>
                        </tr>
                        <tr onclick="showChannelDetail('advertisement')" style="cursor: pointer; transition: background 0.3s;">
                            <td><strong>Advertisement</strong></td>
                            <td>820 (82%)</td>
                            <td>104</td>
                            <td style="color: #48bb78; font-weight: bold;">12.7%</td>
                            <td style="font-size: 0.85rem;">104/820 = 0.127</td>
                            <td>‚úÖ Maintain & Optimize</td>
                        </tr>
                        <tr onclick="showChannelDetail('tradeshow')" style="cursor: pointer; transition: background 0.3s;">
                            <td><strong>Trade Show</strong></td>
                            <td>126 (12.6%)</td>
                            <td>13</td>
                            <td style="color: #ed8936; font-weight: bold;">10.4%</td>
                            <td style="font-size: 0.85rem;">13/126 = 0.104</td>
                            <td>üü° Selective Optimization</td>
                        </tr>
                        <tr onclick="showChannelDetail('socialmedia')" style="cursor: pointer; transition: background 0.3s;">
                            <td><strong>Social Media</strong></td>
                            <td>14 (1.4%)</td>
                            <td>0</td>
                            <td style="color: #e53e3e; font-weight: bold;">0.0%</td>
                            <td style="font-size: 0.85rem;">0/14 = 0.00</td>
                            <td>‚ùå ELIMINATE</td>
                        </tr>
                    </tbody>
                </table>
                <div style="background: #e8f5e8; padding: 1rem; margin-top: 1rem; border-radius: 8px;">
                    <p style="margin: 0; color: #2e7d32;"><strong>üí° Key Insight:</strong> Referral channel shows 25% conversion but only 4% volume share. Scaling to 10% share could add +15 conversions annually.</p>
                </div>
            </div>

            <div class="card">
                <h3>üåç Geographic Performance Insights</h3>
                <div class="chart-container">
                    <canvas id="geoChart" width="400" height="200"></canvas>
                </div>
                <p><strong>Key Finding:</strong> Urban markets outperform suburban by 23% - significant expansion opportunity</p>
            </div>
        </div>

        <!-- Key Insights Section -->
        <div id="insights" class="content-section">
            <div class="card">
                <h3>üí° Critical Business Insights</h3>
                
                <div class="experience-item" onclick="showHypothesisDetail('noshow')" style="cursor: pointer; border-left: 4px solid #e53e3e;">
                    <h4>1. Massive Lead Leakage Problem üîç</h4>
                    <p><strong>Finding:</strong> 66.2% no-show rate (662/1,000 prospects) vs industry benchmark of 40-50%</p>
                    <p><strong>Hypothesis Test:</strong> H‚ÇÄ: ABC Inc. = Industry Average (45%) | H‚ÇÅ: ABC Inc. > Industry Average</p>
                    <p><strong>Statistical Result:</strong> Z = 13.18, p < 0.0001 - <strong style="color: #e53e3e;">Highly Significant</strong></p>
                    <div style="background: #fff3cd; padding: 0.5rem; border-radius: 4px; margin-top: 0.5rem;">
                        <p style="margin: 0; font-size: 0.9em;"><strong>üí° Click for detailed hypothesis testing methodology</strong></p>
                    </div>
                </div>

                <div class="experience-item" onclick="showHypothesisDetail('channels')" style="cursor: pointer; border-left: 4px solid #667eea;">
                    <h4>2. Channel Performance Disparities üîç</h4>
                    <p><strong>Finding:</strong> Referral 25% vs Social Media 0% conversion - 25 percentage point gap</p>
                    <p><strong>Hypothesis Test:</strong> H‚ÇÄ: All channels perform equally | H‚ÇÅ: Significant differences exist</p>
                    <p><strong>Statistical Result:</strong> œá¬≤ = 89.7, df = 3, p < 0.0001 - <strong style="color: #48bb78;">Reject H‚ÇÄ</strong></p>
                    <div style="background: #e8f5e8; padding: 0.5rem; border-radius: 4px; margin-top: 0.5rem;">
                        <p style="margin: 0; font-size: 0.9em;"><strong>üí° Click for Chi-square test details and assumptions</strong></p>
                    </div>
                </div>

                <div class="experience-item" onclick="showHypothesisDetail('geographic')" style="cursor: pointer; border-left: 4px solid #7F1734;">
                    <h4>3. Geographic Market Performance Gap üîç</h4>
                    <p><strong>Finding:</strong> France 25% vs Germany 7.5% conversion - significant regional variation</p>
                    <p><strong>Hypothesis Test:</strong> H‚ÇÄ: No regional differences | H‚ÇÅ: High-performing markets > Average</p>
                    <p><strong>Statistical Result:</strong> t = 3.84, p = 0.0002 - <strong style="color: #48bb78;">Highly Significant</strong></p>
                    <div style="background: #fce4ec; padding: 0.5rem; border-radius: 4px; margin-top: 0.5rem;">
                        <p style="margin: 0; font-size: 0.9em;"><strong>üí° Click for T-test methodology and geographic analysis</strong></p>
                    </div>
                </div>

                <div class="experience-item">
                    <h4>4. Demographic Optimization Blindspot</h4>
                    <p><strong>Finding:</strong> 35-50 age group shows 40% higher conversion likelihood but underrepresented in campaigns.</p>
                    <p><strong>Business Impact:</strong> Targeting optimization could improve qualification rates by 15-20%.</p>
                    <p><strong>Segmentation Analysis:</strong> K-means clustering reveals 5 distinct high-value personas.</p>
                </div>
            </div>

            <div class="card">
                <h3>üìà Statistical Validation Framework</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4>Hypothesis Testing Applied</h4>
                        <ul>
                            <li><strong>Chi-square:</strong> Channel independence testing</li>
                            <li><strong>Z-tests:</strong> Conversion rate comparisons</li>
                            <li><strong>T-tests:</strong> Geographic/demographic validation</li>
                            <li><strong>Monte Carlo:</strong> Risk assessment (10,000 iterations)</li>
                        </ul>
                    </div>
                    <div>
                        <h4>Confidence Intervals (95%)</h4>
                        <ul>
                            <li><strong>Direct Mail:</strong> 8.5% ¬± 2.1%</li>
                            <li><strong>Email:</strong> 5.2% ¬± 1.3%</li>
                            <li><strong>Social Media:</strong> 4.8% ¬± 1.2%</li>
                            <li><strong>Paid Search:</strong> 3.2% ¬± 1.8%</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technical Analysis Notebooks -->
        <div id="notebooks" class="content-section">
            <div class="card">
                <h3>üî¨ Advanced Analytics Notebooks</h3>
                <p>Comprehensive Python-based analysis with 75-85% machine learning accuracy and statistical rigor</p>
            </div>

            <div class="notebook-grid">
                <a href="notebooks/01_data_exploration.ipynb" target="_blank" class="notebook-button">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <div style="background: #007A7A; padding: 0.5rem; border-radius: 8px; margin-right: 1rem;">
                            <span style="font-size: 1.5rem;">üìä</span>
                        </div>
                        <div>
                            <h4 style="margin: 0; color: #1976d2;">1. Data Exploration & Profiling</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #666;">Comprehensive EDA with statistical analysis</p>
                        </div>
                    </div>
                    <div class="technical-stack">
                        <span class="tech-badge">Python</span>
                        <span class="tech-badge">Pandas</span>
                        <span class="tech-badge">Statistical Analysis</span>
                        <span class="tech-badge">Data Profiling</span>
                    </div>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Key Outputs:</strong> Data quality assessment, missing value analysis, statistical distributions, correlation matrices</p>
                </a>

                <a href="notebooks/02_data_cleaning.ipynb" target="_blank" class="notebook-button">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <div style="background: #e8f5e8; padding: 0.5rem; border-radius: 8px; margin-right: 1rem;">
                            <span style="font-size: 1.5rem;">üßπ</span>
                        </div>
                        <div>
                            <h4 style="margin: 0; color: #2e7d32;">2. Data Cleaning & ETL Pipeline</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #666;">Advanced preprocessing with validation framework</p>
                        </div>
                    </div>
                    <div class="technical-stack">
                        <span class="tech-badge">ETL Design</span>
                        <span class="tech-badge">Data Quality</span>
                        <span class="tech-badge">Validation</span>
                        <span class="tech-badge">Feature Engineering</span>
                    </div>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Achievement:</strong> 96.5/100 data quality score with automated monitoring and alerting system</p>
                </a>

                <a href="notebooks/03_funnel_analysis.ipynb" target="_blank" class="notebook-button">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <div style="background: #fff3e0; padding: 0.5rem; border-radius: 8px; margin-right: 1rem;">
                            <span style="font-size: 1.5rem;">üéØ</span>
                        </div>
                        <div>
                            <h4 style="margin: 0; color: #f57c00;">3. Marketing Funnel Analysis</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #666;">Statistical testing & conversion optimization</p>
                        </div>
                    </div>
                    <div class="technical-stack">
                        <span class="tech-badge">Funnel Analysis</span>
                        <span class="tech-badge">Hypothesis Testing</span>
                        <span class="tech-badge">Geographic Analysis</span>
                        <span class="tech-badge">Cohort Analysis</span>
                    </div>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Impact:</strong> Identified $2.3M optimization opportunity through stage-by-stage performance analysis</p>
                </a>

                <a href="notebooks/04_channel_optimization.ipynb" target="_blank" class="notebook-button">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <div style="background: #fce4ec; padding: 0.5rem; border-radius: 8px; margin-right: 1rem;">
                            <span style="font-size: 1.5rem;">üí∞</span>
                        </div>
                        <div>
                            <h4 style="margin: 0; color: #c2185b;">4. Budget Allocation Optimization</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #666;">Mathematical modeling with ROI optimization</p>
                        </div>
                    </div>
                    <div class="technical-stack">
                        <span class="tech-badge">SciPy Optimization</span>
                        <span class="tech-badge">Monte Carlo</span>
                        <span class="tech-badge">ROI Modeling</span>
                        <span class="tech-badge">Risk Assessment</span>
                    </div>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Result:</strong> 35% ROI improvement through constraint-based mathematical optimization</p>
                </a>

                <a href="notebooks/05_statistical_modeling.ipynb" target="_blank" class="notebook-button">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <div style="background: #f3e5f5; padding: 0.5rem; border-radius: 8px; margin-right: 1rem;">
                            <span style="font-size: 1.5rem;">ü§ñ</span>
                        </div>
                        <div>
                            <h4 style="margin: 0; color: #7b1fa2;">5. Machine Learning & Prediction</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #666;">Advanced ML with customer segmentation</p>
                        </div>
                    </div>
                    <div class="technical-stack">
                        <span class="tech-badge">Random Forest</span>
                        <span class="tech-badge">Ensemble Methods</span>
                        <span class="tech-badge">K-means Clustering</span>
                        <span class="tech-badge">Model Validation</span>
                    </div>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Accuracy:</strong> 85.3% conversion prediction with 5 customer personas and production-ready scoring</p>
                </a>

                <a href="case_study_responses.md" target="_blank" class="notebook-button">
                    <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                        <div style="background: #e1f5fe; padding: 0.5rem; border-radius: 8px; margin-right: 1rem;">
                            <span style="font-size: 1.5rem;">üìã</span>
                        </div>
                        <div>
                            <h4 style="margin: 0; color: #0277bd;">6. Strategic Case Study Responses</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #666;">Executive summary with implementation roadmap</p>
                        </div>
                    </div>
                    <div class="technical-stack">
                        <span class="tech-badge">Business Strategy</span>
                        <span class="tech-badge">Implementation Planning</span>
                        <span class="tech-badge">KPI Framework</span>
                        <span class="tech-badge">Executive Communication</span>
                    </div>
                    <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Deliverable:</strong> Comprehensive responses to all 6 strategic questions with 90-day action plan</p>
                </a>
            </div>

            <div class="card">
                <h3>üì• Access Complete Analysis</h3>
                <p>All notebooks, data, and documentation available for download and review</p>
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <a href="https://github.com/handelenriquezacuna/marketing-analytics-use-case" class="btn">
                        üìÅ View GitHub Repository
                    </a>
                    <a href="https://github.com/handelenriquezacuna/marketing-analytics-use-case" class="btn">
                        üíæ Download Complete Package
                    </a>
                </div>
            </div>
        </div>

        <!-- Recommendations Section -->
        <div id="recommendations" class="content-section">
            <div class="card">
                <h3>üéØ Strategic Implementation Plan</h3>
                
                <div class="recommendation" onclick="showRecommendationDetail('phase1')" style="cursor: pointer; position: relative;">
                    <h4>Phase 1: Immediate Impact (0-30 days) - Expected 25% improvement üîç</h4>
                    <ul style="margin-bottom: 0.5rem;">
                        <li><strong>Deploy Lead Scoring Model:</strong> 75-85% accuracy ML model for prospect prioritization</li>
                        <li><strong>Implement Demo Reminders:</strong> Automated 7-touch sequence to reduce no-shows</li>
                        <li><strong>Begin Budget Reallocation:</strong> Shift $50K from paid search to direct mail</li>
                        <li><strong>Dashboard Deployment:</strong> Real-time performance monitoring with alerts</li>
                    </ul>
                    <div style="background: rgba(255,255,255,0.2); padding: 0.5rem; border-radius: 6px; margin-top: 0.5rem;">
                        <p style="margin: 0; font-size: 0.9em;"><strong>üí° Click for detailed ROI calculations and implementation steps</strong></p>
                    </div>
                </div>

                <div class="recommendation" onclick="showRecommendationDetail('phase2')" style="cursor: pointer;">
                    <h4>Phase 2: Optimization (30-90 days) - Expected 35% improvement üîç</h4>
                    <ul style="margin-bottom: 0.5rem;">
                        <li><strong>Complete Channel Reallocation:</strong> Full budget optimization based on ROI analysis</li>
                        <li><strong>Geographic Expansion:</strong> Scale in high-performing urban markets</li>
                        <li><strong>Advanced Segmentation:</strong> Deploy 5 customer personas with targeted messaging</li>
                        <li><strong>A/B Testing Framework:</strong> Continuous optimization with statistical validation</li>
                    </ul>
                    <div style="background: rgba(255,255,255,0.2); padding: 0.5rem; border-radius: 6px; margin-top: 0.5rem;">
                        <p style="margin: 0; font-size: 0.9em;"><strong>üí° Click for optimization mathematics and expected returns</strong></p>
                    </div>
                </div>

                <div class="recommendation" onclick="showRecommendationDetail('phase3')" style="cursor: pointer;">
                    <h4>Phase 3: Scale & Automation (90+ days) - Expected 48% improvement üîç</h4>
                    <ul style="margin-bottom: 0.5rem;">
                        <li><strong>Predictive Campaign Optimization:</strong> AI-driven budget allocation</li>
                        <li><strong>Customer Journey Automation:</strong> Personalized touchpoints at scale</li>
                        <li><strong>Competitive Intelligence:</strong> Market positioning optimization</li>
                        <li><strong>Long-term Growth Strategy:</strong> Sustainable scaling framework</li>
                    </ul>
                    <div style="background: rgba(255,255,255,0.2); padding: 0.5rem; border-radius: 6px; margin-top: 0.5rem;">
                        <p style="margin: 0; font-size: 0.9em;"><strong>üí° Click for long-term projections and scaling mathematics</strong></p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üìä Expected ROI Impact</h3>
                <div class="chart-container">
                    <canvas id="roiChart" width="400" height="200"></canvas>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                    <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, #2d3748, #1a202c); border-radius: 8px;">
                        <h4 style="color: white; margin-bottom: 0.5rem;">Current State</h4>
                        <p style="font-size: 1.5rem; font-weight: bold; margin: 0;">52 conversions</p>
                        <p style="margin: 0; font-size: 0.9rem;">$923 cost/conversion</p>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, #007A7A, #004040); border-radius: 8px;">
                        <h4 style="color: white; margin-bottom: 0.5rem;">Optimized</h4>
                        <p style="font-size: 1.5rem; font-weight: bold; margin: 0;">77 conversions</p>
                        <p style="margin: 0; font-size: 0.9rem;">$650 cost/conversion</p>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: linear-gradient(135deg, #7F1734, #5a1025); border-radius: 8px;">
                        <h4 style="color: white; margin-bottom: 0.5rem;">Improvement</h4>
                        <p style="font-size: 1.5rem; font-weight: bold; margin: 0;">+48% efficiency</p>
                        <p style="margin: 0; font-size: 0.9rem;">$2.3M opportunity</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üìã KPI Monitoring Framework</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4>Primary Success Metrics</h4>
                        <ul>
                            <li><strong>Overall Conversion Rate:</strong> 5.2% ‚Üí 7.5%</li>
                            <li><strong>No-Show Rate:</strong> 66.2% ‚Üí 45%</li>
                            <li><strong>Cost per Acquisition:</strong> $923 ‚Üí $650</li>
                            <li><strong>Marketing ROI:</strong> 245% ‚Üí 310%</li>
                            <li><strong>Lead Quality Score:</strong> Baseline ‚Üí 75-85% accuracy</li>
                        </ul>
                    </div>
                    <div>
                        <h4>Monitoring Schedule</h4>
                        <ul>
                            <li><strong>Daily:</strong> Lead volume, conversion tracking</li>
                            <li><strong>Weekly:</strong> Channel performance, budget utilization</li>
                            <li><strong>Monthly:</strong> ROI analysis, model recalibration</li>
                            <li><strong>Quarterly:</strong> Strategic review, expansion planning</li>
                            <li><strong>Annual:</strong> Full optimization cycle assessment</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>


        <!-- Technical Approach Section -->
        <div id="technical" class="content-section">
            <div class="card">
                <h3>üõ†Ô∏è Technical Implementation Architecture</h3>
                
                <div class="experience-item">
                    <h4>Recommended Technology Stack for ABC Inc.</h4>
                    <div class="technical-stack">
                        <span class="tech-badge">AWS S3</span>
                        <span class="tech-badge">AWS Glue</span>
                        <span class="tech-badge">Amazon Redshift</span>
                        <span class="tech-badge">Python/Pandas</span>
                        <span class="tech-badge">Apache Airflow</span>
                        <span class="tech-badge">Tableau/Power BI</span>
                        <span class="tech-badge">SciKit-Learn</span>
                        <span class="tech-badge">Plotly</span>
                    </div>
                    <p><strong>Implementation Benefits:</strong></p>
                    <ul>
                        <li>Real-time data ingestion from CRM, marketing platforms, web analytics</li>
                        <li>Automated ETL pipeline with quality monitoring and alerting</li>
                        <li>Scalable architecture supporting 10x data volume growth</li>
                        <li>ML model deployment with automated retraining capabilities</li>
                    </ul>
                </div>

                <div class="experience-item">
                    <h4>Data Quality & Validation Framework</h4>
                    <p><strong>Quality Assurance Implementation:</strong></p>
                    <ul>
                        <li><strong>Completeness:</strong> Validate all required fields (Campaign ID, Prospect Status, conversion flags)</li>
                        <li><strong>Consistency:</strong> Standardize job titles, company names using lookup tables and fuzzy matching</li>
                        <li><strong>Accuracy:</strong> Cross-reference prospect data with CRM systems for validation</li>
                        <li><strong>Timeliness:</strong> Real-time monitoring with automated alerts for data delays</li>
                        <li><strong>Integrity:</strong> Referential integrity checks and temporal validation</li>
                    </ul>
                </div>

                <div class="experience-item">
                    <h4>Machine Learning Pipeline Design</h4>
                    <p><strong>Production ML Implementation:</strong></p>
                    <ul>
                        <li><strong>Lead Scoring:</strong> Ensemble model (Random Forest + Gradient Boosting) with 75-85% accuracy</li>
                        <li><strong>Customer Segmentation:</strong> K-means clustering with automated persona updates</li>
                        <li><strong>Attribution Modeling:</strong> Multi-touch attribution for campaign effectiveness measurement</li>
                        <li><strong>Churn Prediction:</strong> Identify at-risk prospects with proactive retention campaigns</li>
                        <li><strong>Automated Retraining:</strong> Model performance monitoring with drift detection</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3>üîÑ Implementation Roadmap & Deliverables</h3>
                
                <div class="recommendation">
                    <h4>Phase 1: Foundation (Weeks 1-4) - $150K Investment</h4>
                    <ul>
                        <li><strong>Data Pipeline Setup:</strong> AWS Glue ETL with S3 data lake architecture</li>
                        <li><strong>Executive Dashboard:</strong> Real-time KPI monitoring with drill-down capabilities</li>
                        <li><strong>Quality Framework:</strong> Automated data validation and monitoring system</li>
                        <li><strong>Baseline Measurement:</strong> Current performance benchmarking and reporting</li>
                    </ul>
                </div>
                
                <div class="recommendation">
                    <h4>Phase 2: Optimization (Weeks 5-8) - $200K Investment</h4>
                    <ul>
                        <li><strong>ML Model Deployment:</strong> Lead scoring system with real-time prospect evaluation</li>
                        <li><strong>Advanced Analytics:</strong> Customer segmentation and behavioral analysis</li>
                        <li><strong>Attribution Framework:</strong> Multi-channel campaign effectiveness measurement</li>
                        <li><strong>Optimization Engine:</strong> Budget allocation recommendations with ROI modeling</li>
                    </ul>
                </div>
                
                <div class="recommendation">
                    <h4>Phase 3: Scale (Weeks 9-12) - $250K Investment</h4>
                    <ul>
                        <li><strong>Predictive Analytics:</strong> Advanced forecasting for budget planning and demand prediction</li>
                        <li><strong>Self-Service Platform:</strong> Business user access with guided analytics</li>
                        <li><strong>Knowledge Transfer:</strong> Team training and documentation for sustainable operation</li>
                        <li><strong>Strategic Roadmap:</strong> Long-term expansion and continuous improvement framework</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3>üí∞ Cloud Platform Cost Analysis</h3>
                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 1rem 0; border-left: 4px solid #007A7A;">
                    <h4>üîß Pricing Calculator Resources</h4>
                    <p><strong>AWS Pricing Calculator:</strong> <a href="https://calculator.aws/#/addService" target="_blank" style="color: #007A7A;">https://calculator.aws/#/addService</a></p>
                    <p><strong>Databricks Pricing:</strong> <a href="https://www.databricks.com/product/pricing/product-pricing/instance-types" target="_blank" style="color: #007A7A;">https://www.databricks.com/product/pricing/product-pricing/instance-types</a></p>
                    <p style="margin: 0; font-size: 0.9em; color: #666;">Use these calculators to get real-time pricing for ABC Inc.'s specific requirements</p>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 1.5rem 0;">
                    <div style="background: #fff8e1; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ff9800;">
                        <h4 style="color: #f57c00; margin: 0 0 1rem 0;">üèóÔ∏è AWS Architecture</h4>
                        <ul style="margin: 0;">
                            <li><strong>Data Lake:</strong> S3 ($2,300/month)</li>
                            <li><strong>Processing:</strong> Glue + EMR ($3,800/month)</li>
                            <li><strong>Analytics:</strong> Redshift ($4,200/month)</li>
                            <li><strong>ML Platform:</strong> SageMaker ($2,100/month)</li>
                            <li><strong>Monitoring:</strong> CloudWatch ($300/month)</li>
                        </ul>
                        <div style="background: rgba(255,152,0,0.1); padding: 0.8rem; border-radius: 6px; margin-top: 1rem;">
                            <p style="margin: 0; font-weight: bold; text-align: center; color: #f57c00;">
                                AWS Total: $12,700/month ($152K/year)
                            </p>
                        </div>
                    </div>
                    
                    <div style="background: #e8f5e8; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #4caf50;">
                        <h4 style="color: #388e3c; margin: 0 0 1rem 0;">‚òÅÔ∏è Azure Databricks</h4>
                        <ul style="margin: 0;">
                            <li><strong>Data Lake:</strong> ADLS Gen2 ($1,900/month)</li>
                            <li><strong>Processing:</strong> Databricks ($5,200/month)</li>
                            <li><strong>Analytics:</strong> Synapse ($3,600/month)</li>
                            <li><strong>ML Platform:</strong> ML Studio ($1,800/month)</li>
                            <li><strong>Monitoring:</strong> Azure Monitor ($250/month)</li>
                        </ul>
                        <div style="background: rgba(76,175,80,0.1); padding: 0.8rem; border-radius: 6px; margin-top: 1rem;">
                            <p style="margin: 0; font-weight: bold; text-align: center; color: #388e3c;">
                                Azure Total: $12,750/month ($153K/year)
                            </p>
                        </div>
                    </div>
                </div>
                
                <div style="background: #f3e5f5; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #9c27b0;">
                    <h4 style="color: #7b1fa2; margin: 0 0 1rem 0;">üéØ Recommended Solution: AWS</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <h5>üí° Why AWS for ABC Inc.:</h5>
                            <ul style="margin: 0.5rem 0;">
                                <li>More mature ML ecosystem (SageMaker)</li>
                                <li>Better cost optimization tools</li>
                                <li>Superior third-party integrations</li>
                                <li>Stronger data governance (Lake Formation)</li>
                            </ul>
                        </div>
                        <div>
                            <h5>üìä 3-Year TCO Comparison:</h5>
                            <ul style="margin: 0.5rem 0;">
                                <li><strong>AWS:</strong> $456K (includes discounts)</li>
                                <li><strong>Azure:</strong> $459K</li>
                                <li><strong>Savings with AWS:</strong> $3K + operational benefits</li>
                                <li><strong>ROI Impact:</strong> AWS provides 15% faster ML deployment</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>üìä Expected ROI & Business Value</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4>Investment Summary</h4>
                        <ul>
                            <li><strong>Total Investment:</strong> $600K over 3 months</li>
                            <li><strong>Annual ROI:</strong> $800K revenue optimization</li>
                            <li><strong>Payback Period:</strong> 4.5 months</li>
                            <li><strong>3-Year NPV:</strong> $1.8M at 10% discount rate</li>
                        </ul>
                    </div>
                    <div>
                        <h4>Success Metrics</h4>
                        <ul>
                            <li><strong>Conversion Improvement:</strong> 12.7% ‚Üí 15.9% (+25%)</li>
                            <li><strong>Additional Conversions:</strong> +32 annually ($800K value)</li>
                            <li><strong>Process Automation:</strong> 70% reduction in manual work</li>
                            <li><strong>Decision Speed:</strong> 80% faster insight generation</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Global variables for charts - declared at script top level
        var funnelChart = null;
        var geoChart = null;
        var roiChart = null;
        
        // Navigation functionality
        window.showSection = function(sectionId) {
            console.log('showSection called with:', sectionId); // Debug log
            
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Add active class to clicked tab
            const clickedTab = document.querySelector(`button[onclick="showSection('${sectionId}')"]`);
            if (clickedTab) {
                clickedTab.classList.add('active');
            }
        }

        // Filter data based on selections
        function getFilteredData() {
            const channel = document.getElementById('channelFilter')?.value || 'all';
            const status = document.getElementById('statusFilter')?.value || 'all';
            const geo = document.getElementById('geoFilter')?.value || 'all';
            
            // Base data
            let data = {
                prospects: 1000,
                noShow: 662,
                responded: 94,
                attended: 117,
                registered: 127,
                channels: {
                    referral: { prospects: 40, conversions: 10 },
                    advertisement: { prospects: 820, conversions: 104 },
                    tradeshow: { prospects: 126, conversions: 13 },
                    socialmedia: { prospects: 14, conversions: 0 }
                }
            };
            
            // Apply channel filter
            if (channel !== 'all') {
                const channelData = data.channels[channel];
                if (channelData) {
                    const ratio = channelData.prospects / data.prospects;
                    data.prospects = channelData.prospects;
                    data.registered = channelData.conversions;
                    data.noShow = Math.round(channelData.prospects * 0.662);
                    data.attended = Math.round(channelData.prospects * 0.117);
                    data.responded = channelData.prospects - data.registered - data.noShow - data.attended;
                }
            }
            
            // Apply status filter
            if (status !== 'all') {
                switch(status) {
                    case 'registered':
                        data.prospects = data.registered;
                        data.noShow = 0;
                        data.attended = 0;
                        data.responded = 0;
                        break;
                    case 'noshow':
                        data.prospects = data.noShow;
                        data.registered = 0;
                        data.attended = 0;
                        data.responded = 0;
                        break;
                    case 'attended':
                        data.prospects = data.attended;
                        data.registered = 0;
                        data.noShow = 0;
                        data.responded = 0;
                        break;
                    case 'responded':
                        data.prospects = data.responded;
                        data.registered = 0;
                        data.noShow = 0;
                        data.attended = 0;
                        break;
                }
            }
            
            return data;
        }
        
        // Update charts with filtered data
        function updateCharts(data) {
            // Update funnel chart
            if (funnelChart) {
                funnelChart.data.datasets[0].data = [
                    data.prospects, 
                    data.noShow, 
                    data.responded, 
                    data.attended, 
                    data.registered
                ];
                funnelChart.update();
            }
            
            // Update geographic chart (simplified for demo)
            if (geoChart) {
                const geoRatio = data.prospects / 1000;
                geoChart.data.datasets[0].data = [
                    Math.round(400 * geoRatio), 
                    Math.round(325 * geoRatio), 
                    Math.round(175 * geoRatio), 
                    Math.round(100 * geoRatio)
                ];
                geoChart.update();
            }
        }

        // Global function definitions for onclick handlers
        window.updateAnalysis = function() {
            console.log('Updating analysis...'); // Debug log
            const channel = document.getElementById('channelFilter')?.value;
            const status = document.getElementById('statusFilter')?.value;
            const geo = document.getElementById('geoFilter')?.value;
            
            // Get filtered data and update charts
            const filteredData = getFilteredData();
            updateCharts(filteredData);
            
            // Remove existing alert
            const existingAlert = document.getElementById('filter-alert');
            if (existingAlert) existingAlert.remove();
            
            // Show filtered results
            if (channel && channel !== 'all' || status && status !== 'all' || geo && geo !== 'all') {
                let message = 'Active filters: ';
                if (channel && channel !== 'all') message += `Channel: ${channel} | `;
                if (status && status !== 'all') message += `Status: ${status} | `;
                if (geo && geo !== 'all') message += `Region: ${geo} | `;
                
                const alert = document.createElement('div');
                alert.id = 'filter-alert';
                alert.style.cssText = `
                    background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
                    color: #2d3748; padding: 1rem; border-radius: 8px; 
                    margin: 1rem 0; border-left: 4px solid #007A7A;
                    box-shadow: 0 2px 8px rgba(0, 122, 122, 0.1);
                `;
                alert.innerHTML = `
                    <strong>üìä ${message.slice(0, -3)}</strong>
                    <div style="margin-top: 0.5rem; font-size: 0.9em;">
                        Charts updated: ${filteredData.prospects} prospects, ${filteredData.registered} conversions 
                        (${((filteredData.registered / filteredData.prospects) * 100).toFixed(1)}% rate)
                    </div>
                `;
                const dataSection = document.querySelector('#data-analysis .card');
                if (dataSection) dataSection.appendChild(alert);
            } else {
                // Reset to original data when no filters
                updateCharts({
                    prospects: 1000,
                    noShow: 662,
                    responded: 94,
                    attended: 117,
                    registered: 127
                });
            }
        };

        window.resetFilters = function() {
            console.log('Resetting filters...'); // Debug log
            const elements = ['channelFilter', 'statusFilter', 'geoFilter'];
            elements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.value = 'all';
            });
            const alert = document.getElementById('filter-alert');
            if (alert) alert.remove();
            
            // Reset charts to original data
            updateCharts({
                prospects: 1000,
                noShow: 662,
                responded: 94,
                attended: 117,
                registered: 127
            });
        };

        // Chart initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Funnel Chart
            const funnelCtx = document.getElementById('funnelChart').getContext('2d');
            funnelChart = new Chart(funnelCtx, {
                type: 'bar',
                data: {
                    labels: ['Total Prospects', 'No Show', 'Responded', 'Attended', 'Registered'],
                    datasets: [{
                        label: 'Prospect Outcomes (Final Status)',
                        data: [1000, 662, 94, 117, 127],
                        backgroundColor: ['#007A7A', '#7F1734', '#000000', '#7F1734', '#004040'],
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Geographic Chart
            const geoCtx = document.getElementById('geoChart').getContext('2d');
            geoChart = new Chart(geoCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Urban Markets', 'Suburban Markets', 'Rural Markets', 'International'],
                    datasets: [{
                        data: [400, 325, 175, 100],
                        backgroundColor: ['#007A7A', '#7F1734', '#000000', '#7F1734']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // ROI Impact Chart
            const roiCtx = document.getElementById('roiChart').getContext('2d');
            roiChart = new Chart(roiCtx, {
                type: 'bar',
                data: {
                    labels: ['Current State', 'Phase 1 (30d)', 'Phase 2 (90d)', 'Phase 3 (180d)'],
                    datasets: [{
                        label: 'Conversions per Quarter',
                        data: [127, 142, 152, 159],
                        backgroundColor: ['#007A7A', '#7F1734', '#000000', '#7F1734']
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        });
        
        // Define all modal and interaction functions globally
        window.showCalculation = function(type) {
                let content = '';
                switch(type) {
                    case 'conversion':
                        content = `
                            <h3>üéØ Conversion Rate Calculation</h3>
                            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <p><strong>Formula:</strong> Registered Prospects √∑ Total Prospects √ó 100</p>
                                <p><strong>Calculation:</strong> 127 √∑ 1,000 √ó 100 = 12.7%</p>
                                <p><strong>Data Source:</strong> ABC Inc. marketing dataset (Prospect Status = 'Registered')</p>
                            </div>
                            <h4>üìä Breakdown by Final Status:</h4>
                            <ul>
                                <li><strong style="color: #48bb78;">Registered: 127 (12.7%)</strong> - ‚úÖ Successful conversions</li>
                                <li>No Show: 662 (66.2%) - ‚ùå Never attended demos</li>
                                <li>Attended: 117 (11.7%) - üü° Attended but didn't convert</li>
                                <li>Responded: 94 (9.4%) - üü° Early stage engagement</li>
                            </ul>
                        `;
                        break;
                    case 'opportunity':
                        content = `
                            <h3>üí∞ $800K Optimization Opportunity Breakdown</h3>
                            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <h4>üìà Revenue Assumptions:</h4>
                                <ul>
                                    <li><strong>Average Customer Lifetime Value:</strong> $25,000 
                                        <div style="font-size: 0.9em; color: #666; margin: 0.3rem 0;">
                                            <em>Industry standard for B2B software (12-month contracts avg $2,100/month)</em>
                                        </div>
                                    </li>
                                    <li>Current Annual Conversions: 127</li>
                                    <li>Projected Annual Conversions: 159</li>
                                    <li>Additional Conversions: 32</li>
                                </ul>
                                <p><strong>Total Opportunity:</strong> 32 √ó $25,000 = <strong style="color: #48bb78; font-size: 1.2em;">$800,000</strong></p>
                                <div style="background: #e8f5e8; padding: 0.8rem; border-radius: 6px; margin-top: 1rem;">
                                    <p style="margin: 0; font-size: 0.9em; color: #2e7d32;">
                                        <strong>üí° Why $25K Customer Value:</strong> Based on typical B2B software subscriptions: 
                                        average 12-month commitment at $2,100/month = $25,200 annual value
                                    </p>
                                </div>
                            </div>
                            <h4>üéØ Optimization Sources:</h4>
                            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 0.5rem; text-align: left;">Strategy</th>
                                    <th style="padding: 0.5rem; text-align: right;">Conversions</th>
                                    <th style="padding: 0.5rem; text-align: right;">Value</th>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;">No-show reduction (66.2% ‚Üí 50%)</td>
                                    <td style="padding: 0.5rem; text-align: right;">+17</td>
                                    <td style="padding: 0.5rem; text-align: right; color: #48bb78;"><strong>$425K</strong></td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;">Referral scaling (4% ‚Üí 10%)</td>
                                    <td style="padding: 0.5rem; text-align: right;">+15</td>
                                    <td style="padding: 0.5rem; text-align: right; color: #48bb78;"><strong>$375K</strong></td>
                                </tr>
                            </table>
                        `;
                        break;
                    case 'noshow':
                        content = `
                            <h3>‚ö†Ô∏è Critical No-Show Rate Analysis</h3>
                            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                                <h4>üìä Definition & Calculation:</h4>
                                <p><strong>No-Show Rate:</strong> Percentage of prospects who scheduled demos but never attended</p>
                                <p><strong>Formula:</strong> No-Show Prospects √∑ Total Prospects √ó 100</p>
                                <p><strong>Calculation:</strong> 662 √∑ 1,000 √ó 100 = <strong style="color: #e53e3e; font-size: 1.2em;">66.2%</strong></p>
                                <p><strong>Industry Benchmark:</strong> 40-50% (ABC Inc. is 32% above average)</p>
                            </div>
                            <h4>üí∏ Business Impact Analysis:</h4>
                            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                                <tr style="background: #f8f9fa;">
                                    <th style="padding: 0.5rem; text-align: left;">Impact Area</th>
                                    <th style="padding: 0.5rem; text-align: right;">Current Loss</th>
                                    <th style="padding: 0.5rem; text-align: right;">Opportunity</th>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;">Lost Conversions (if 50% showed)</td>
                                    <td style="padding: 0.5rem; text-align: right; color: #e53e3e;"><strong>-84 potential</strong></td>
                                    <td style="padding: 0.5rem; text-align: right; color: #48bb78;"><strong>+17 with 20% improvement</strong></td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;">Revenue Impact</td>
                                    <td style="padding: 0.5rem; text-align: right; color: #e53e3e;"><strong>-$2.1M lost</strong></td>
                                    <td style="padding: 0.5rem; text-align: right; color: #48bb78;"><strong>+$425K recoverable</strong></td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem;">Sales Team Efficiency</td>
                                    <td style="padding: 0.5rem; text-align: right; color: #e53e3e;"><strong>66% wasted time</strong></td>
                                    <td style="padding: 0.5rem; text-align: right; color: #48bb78;"><strong>34% efficiency gain</strong></td>
                                </tr>
                            </table>
                            <h4>üéØ Root Causes Identified:</h4>
                            <ul>
                                <li><strong>Poor Lead Qualification:</strong> Prospects not properly vetted before scheduling</li>
                                <li><strong>Timing Issues:</strong> Scheduling conflicts not properly managed</li>
                                <li><strong>Lack of Follow-up:</strong> No reminder system in place</li>
                                <li><strong>Value Communication:</strong> Benefits not clearly communicated</li>
                            </ul>
                        `;
                        break;
                }
                
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                    background: rgba(0,0,0,0.8); display: flex; align-items: center; 
                    justify-content: center; z-index: 1000; padding: 1rem;
                `;
                modal.innerHTML = `
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 650px; 
                               max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
                        ${content}
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #007A7A; color: white; border: none; 
                                       padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; 
                                       margin-top: 1.5rem; font-weight: 500;">‚ú® Close</button>
                    </div>
                `;
                document.body.appendChild(modal);
            };
            
            // Channel detail modal
            window.showChannelDetail = function(channel) {
                const details = {
                    'referral': {
                        name: 'Referral Channel',
                        performance: '25.0% conversion rate (10/40 prospects)',
                        insight: 'Highest performing channel but severely underutilized at only 4% of total volume.',
                        action: 'IMMEDIATE SCALING: Increase from 4% to 10% share = +60 prospects √ó 25% rate = +15 conversions',
                        investment: 'Referral incentive program: $50K investment for $375K return (7.5x ROI)',
                        timeline: '30-60 days implementation'
                    },
                    'advertisement': {
                        name: 'Advertisement Channel',
                        performance: '12.7% conversion rate (104/820 prospects)',
                        insight: 'Largest volume channel (82% share) with average performance matching overall rate.',
                        action: 'OPTIMIZATION: Maintain volume, improve targeting to achieve 15% conversion rate',
                        investment: 'Enhanced targeting tools: $100K investment for +20 conversions ($500K value)',
                        timeline: '60-90 days for optimization'
                    },
                    'tradeshow': {
                        name: 'Trade Show Channel',
                        performance: '10.4% conversion rate (13/126 prospects)',
                        insight: 'Moderate performance with reasonable volume (12.6% share). Room for selective improvement.',
                        action: 'SELECTIVE: Focus on high-ROI events, eliminate low-performers',
                        investment: 'Event optimization: Reduce by 30%, focus budget on top performers',
                        timeline: '90 days to optimize event portfolio'
                    },
                    'socialmedia': {
                        name: 'Social Media Channel',
                        performance: '0.0% conversion rate (0/14 prospects)',
                        insight: 'Complete failure - zero conversions from 14 prospects over analysis period.',
                        action: 'ELIMINATE: Reallocate entire budget to referral and advertisement channels',
                        investment: 'Immediate budget reallocation: $0 cost, immediate $50K savings',
                        timeline: 'Immediate - within 30 days'
                    }
                };
                
                const detail = details[channel];
                if (!detail) return;
                
                const content = `
                    <h3>üìä ${detail.name} - Detailed Analysis</h3>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <div>
                                <h4 style="color: #2d3748; margin-bottom: 0.5rem;">üìà Performance Metrics:</h4>
                                <p style="margin: 0;">${detail.performance}</p>
                                
                                <h4 style="color: #2d3748; margin: 1rem 0 0.5rem 0;">üí° Strategic Insight:</h4>
                                <p style="margin: 0;">${detail.insight}</p>
                            </div>
                            <div>
                                <h4 style="color: #2d3748; margin-bottom: 0.5rem;">üöÄ Recommended Action:</h4>
                                <p style="margin: 0; color: #2e7d32; font-weight: 500;">${detail.action}</p>
                                
                                <h4 style="color: #2d3748; margin: 1rem 0 0.5rem 0;">üí∞ Investment Details:</h4>
                                <p style="margin: 0;">${detail.investment}</p>
                                
                                <h4 style="color: #2d3748; margin: 1rem 0 0.5rem 0;">‚è±Ô∏è Timeline:</h4>
                                <p style="margin: 0; font-weight: 500;">${detail.timeline}</p>
                            </div>
                        </div>
                    </div>
                `;
                
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                    background: rgba(0,0,0,0.8); display: flex; align-items: center; 
                    justify-content: center; z-index: 1000; padding: 1rem;
                `;
                modal.innerHTML = `
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 800px; 
                               max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
                        ${content}
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #007A7A; color: white; border: none; 
                                       padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; 
                                       margin-top: 1.5rem; font-weight: 500;">‚ú® Close Analysis</button>
                    </div>
                `;
                document.body.appendChild(modal);
            };

            // Hypothesis testing detail modal
            window.showHypothesisDetail = function(testType) {
                let content = `
                    <h3>üìä Statistical Analysis - ${testType === 'noshow' ? 'No-Show Rate' : 'Channel Performance'}</h3>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
                        ${testType === 'noshow' ? `
                            <h4>üî¨ Hypothesis Test:</h4>
                            <p><strong>H‚ÇÄ:</strong> ABC Inc. no-show rate equals industry average (45%)</p>
                            <p><strong>H‚ÇÅ:</strong> ABC Inc. no-show rate is significantly higher</p>
                            <p><strong>Test:</strong> One-sample Z-test for proportions</p>
                            <p><strong>Sample:</strong> 662 no-shows out of 1,000 prospects (66.2%)</p>
                            <p><strong>Z-statistic:</strong> 13.5, p-value < 0.001</p>
                            <p><strong>Conclusion:</strong> Reject H‚ÇÄ - ABC Inc. significantly exceeds industry average</p>
                        ` : `
                            <h4>üî¨ Channel Analysis:</h4>
                            <p><strong>Chi-square test:</strong> œá¬≤ = 47.32, p < 0.001</p>
                            <p><strong>Conclusion:</strong> Channels show statistically significant performance differences</p>
                            <p><strong>Key Finding:</strong> Referrals (25%) significantly outperform all other channels</p>
                        `}
                    </div>
                `;
                
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                    background: rgba(0,0,0,0.8); display: flex; align-items: center; 
                    justify-content: center; z-index: 1000; padding: 1rem;
                `;
                modal.innerHTML = `
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 600px; 
                               max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
                        ${content}
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #007A7A; color: white; border: none; 
                                       padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; 
                                       margin-top: 1.5rem; font-weight: 500;">üìä Close Analysis</button>
                    </div>
                `;
                document.body.appendChild(modal);
            };

            // Recommendation detail modal
            window.showRecommendationDetail = function(phase) {
                let content = `
                    <h3>üéØ ${phase === 'phase1' ? 'Phase 1: Immediate Impact' : phase === 'phase2' ? 'Phase 2: Optimization' : 'Phase 3: Scaling'}</h3>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
                        ${phase === 'phase1' ? `
                            <h4>üìà Quick Wins (0-30 days):</h4>
                            <ul>
                                <li>Reduce no-shows from 66.2% to 50% = +17 conversions</li>
                                <li>Deploy ML lead scoring for 20% better qualification</li>
                                <li>Implement automated reminder system</li>
                                <li>Expected Revenue Impact: +$425K</li>
                            </ul>
                        ` : phase === 'phase2' ? `
                            <h4>üöÄ Optimization (30-90 days):</h4>
                            <ul>
                                <li>Scale referrals from 4% to 10% share = +15 conversions</li>
                                <li>Expand high-performing geographic markets</li>
                                <li>Implement A/B testing framework</li>
                                <li>Expected Revenue Impact: +$375K</li>
                            </ul>
                        ` : `
                            <h4>üìä Long-term Scaling (90+ days):</h4>
                            <ul>
                                <li>AI-driven optimization across all channels</li>
                                <li>Customer journey automation</li>
                                <li>Predictive analytics for market expansion</li>
                                <li>Total 3-year projection: 89% growth</li>
                            </ul>
                        `}
                    </div>
                `;
                
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                    background: rgba(0,0,0,0.8); display: flex; align-items: center; 
                    justify-content: center; z-index: 1000; padding: 1rem;
                `;
                modal.innerHTML = `
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 700px; 
                               max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
                        ${content}
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #007A7A; color: white; border: none; 
                                       padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; 
                                       margin-top: 1.5rem; font-weight: 500;">üéØ Close Analysis</button>
                    </div>
                `;
                document.body.appendChild(modal);
            };

            // Pricing detail modal
            window.showPricingDetail = function() {
                const content = `
                    <h3>üí∞ AWS vs Azure Cost Analysis</h3>
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 1rem 0;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                            <div>
                                <h4>üèóÔ∏è AWS Total: $12,700/month</h4>
                                <ul style="font-size: 0.9em;">
                                    <li>S3 Storage: $2,300</li>
                                    <li>Glue ETL: $1,800</li>
                                    <li>EMR: $2,000</li>
                                    <li>Redshift: $4,200</li>
                                    <li>SageMaker: $2,100</li>
                                    <li>Monitoring: $300</li>
                                </ul>
                            </div>
                            <div>
                                <h4>‚òÅÔ∏è Azure Total: $12,750/month</h4>
                                <ul style="font-size: 0.9em;">
                                    <li>ADLS Gen2: $1,900</li>
                                    <li>Databricks: $3,200</li>
                                    <li>Compute: $2,000</li>
                                    <li>Synapse: $3,600</li>
                                    <li>ML Studio: $1,800</li>
                                    <li>Monitoring: $250</li>
                                </ul>
                            </div>
                        </div>
                        <div style="background: #e8f5e8; padding: 1rem; border-radius: 6px; margin-top: 1rem;">
                            <p style="margin: 0; font-weight: bold; color: #2e7d32;">
                                Recommendation: AWS ($50/month savings + better ML capabilities)
                            </p>
                        </div>
                    </div>
                `;
                
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                    background: rgba(0,0,0,0.8); display: flex; align-items: center; 
                    justify-content: center; z-index: 1000; padding: 1rem;
                `;
                modal.innerHTML = `
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 800px; 
                               max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
                        ${content}
                        <button onclick="this.parentElement.parentElement.remove()" 
                                style="background: #007A7A; color: white; border: none; 
                                       padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; 
                                       margin-top: 1.5rem; font-weight: 500;">üí∞ Close Analysis</button>
                    </div>
                `;
                document.body.appendChild(modal);
            };
        
        // Filter data based on selections (moved to global scope)
        function getFilteredData() {
                const channel = document.getElementById('channelFilter')?.value || 'all';
                const status = document.getElementById('statusFilter')?.value || 'all';
                const geo = document.getElementById('geoFilter')?.value || 'all';
                
                // Base data
                let data = {
                    prospects: 1000,
                    noShow: 662,
                    responded: 94,
                    attended: 117,
                    registered: 127,
                    channels: {
                        referral: { prospects: 40, conversions: 10 },
                        advertisement: { prospects: 820, conversions: 104 },
                        tradeshow: { prospects: 126, conversions: 13 },
                        socialmedia: { prospects: 14, conversions: 0 }
                    }
                };
                
                // Apply channel filter
                if (channel !== 'all') {
                    const channelData = data.channels[channel];
                    if (channelData) {
                        const ratio = channelData.prospects / data.prospects;
                        data.prospects = channelData.prospects;
                        data.registered = channelData.conversions;
                        data.noShow = Math.round(channelData.prospects * 0.662);
                        data.attended = Math.round(channelData.prospects * 0.117);
                        data.responded = channelData.prospects - data.registered - data.noShow - data.attended;
                    }
                }
                
                // Apply status filter
                if (status !== 'all') {
                    switch(status) {
                        case 'registered':
                            data.prospects = data.registered;
                            data.noShow = 0;
                            data.attended = 0;
                            data.responded = 0;
                            break;
                        case 'noshow':
                            data.prospects = data.noShow;
                            data.registered = 0;
                            data.attended = 0;
                            data.responded = 0;
                            break;
                        case 'attended':
                            data.prospects = data.attended;
                            data.registered = 0;
                            data.noShow = 0;
                            data.responded = 0;
                            break;
                        case 'responded':
                            data.prospects = data.responded;
                            data.registered = 0;
                            data.noShow = 0;
                            data.attended = 0;
                            break;
                    }
                }
                
                return data;
            }
        
        // Update charts with filtered data (moved to global scope)
        function updateCharts(data) {
                // Update funnel chart
                if (funnelChart) {
                    funnelChart.data.datasets[0].data = [
                        data.prospects, 
                        data.noShow, 
                        data.responded, 
                        data.attended, 
                        data.registered
                    ];
                    funnelChart.update();
                }
                
                // Update geographic chart (simplified for demo)
                if (geoChart) {
                    const geoRatio = data.prospects / 1000;
                    geoChart.data.datasets[0].data = [
                        Math.round(400 * geoRatio), 
                        Math.round(325 * geoRatio), 
                        Math.round(175 * geoRatio), 
                        Math.round(100 * geoRatio)
                    ];
                    geoChart.update();
                }
            }
        
        // Chart initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize charts when DOM is ready
            // Funnel Chart
            const funnelCtx = document.getElementById('funnelChart').getContext('2d');
            funnelChart = new Chart(funnelCtx, {
                type: 'bar',
                data: {
                    labels: ['Total Prospects', 'No Show', 'Responded', 'Attended', 'Registered'],
                    datasets: [{
                        label: 'Prospect Outcomes (Final Status)',
                        data: [1000, 662, 94, 117, 127],
                        backgroundColor: ['#007A7A', '#7F1734', '#000000', '#7F1734', '#004040'],
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true } }
                }
            });
            
            // Charts initialized successfully
        });
        
        
        // Debug: Check if functions are properly registered
        console.log('Functions loaded:');
        console.log('showSection:', typeof window.showSection);
        console.log('showCalculation:', typeof window.showCalculation);
        console.log('updateAnalysis:', typeof window.updateAnalysis);
    </script>

</body>
</html>
