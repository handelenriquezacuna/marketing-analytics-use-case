<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC Inc. Marketing Analytics - Comprehensive Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .hero-section {
            background: linear-gradient(135deg, #007A7A 0%, #7F1734 100%);
            color: white;
            padding: 80px 0;
        }
        .insight-card {
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            margin-bottom: 30px;
        }
        .insight-card:hover {
            transform: translateY(-5px);
        }
        .metric-card {
            background: linear-gradient(135deg, #2d3748, #1a202c);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .section-header {
            border-bottom: 3px solid #007A7A;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        .analysis-timeline {
            position: relative;
            padding: 20px 0;
        }
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin-bottom: 30px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            width: 3px;
            height: 100%;
            background: #007A7A;
        }
        .timeline-item::after {
            content: '';
            position: absolute;
            left: 9px;
            top: 5px;
            width: 15px;
            height: 15px;
            background: #007A7A;
            border-radius: 50%;
        }
        .code-sample {
            background: #f8f9fa;
            border-left: 4px solid #007A7A;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .nav-pills .nav-link.active {
            background-color: #007A7A;
        }
        .insight-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #007A7A;
        }
        .clickable-metric:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 122, 122, 0.3);
        }
        .impact-detail-section {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .impact-calculation {
            background: #007A7A;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        /* Modal fullscreen improvements */
        .modal-fullscreen .modal-body {
            overflow-y: auto;
            max-height: calc(100vh - 140px);
            padding: 30px;
        }
        
        .modal-fullscreen .modal-header {
            position: sticky;
            top: 0;
            z-index: 1;
            padding: 20px;
        }
        
        .modal-fullscreen .modal-footer {
            position: sticky;
            bottom: 0;
            z-index: 1;
            padding: 20px;
        }
        
        /* Enhanced close button */
        .modal-fullscreen .btn-close {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            opacity: 1;
        }
        
        .modal-fullscreen .btn-close:hover {
            background-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.1);
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <div class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-4">ABC Inc. Marketing Analytics</h1>
            <p class="lead mb-4">Comprehensive Data-Driven Analysis & Strategic Recommendations</p>
            <p class="mb-4">From Raw Data to Production-Ready ML Models: A Complete Analytics Journey</p>
            <div class="row justify-content-center">
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <h3>1,000</h3>
                        <p>Prospects Analyzed</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <h3>$1.8M</h3>
                        <p>Revenue Opportunity</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <h3>75-85%</h3>
                        <p>Model Accuracy</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <h3>5</h3>
                        <p>Distinct Segments</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="container mt-4">
        <ul class="nav nav-pills nav-fill mb-4" id="analysisTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="overview-tab" data-bs-toggle="pill" data-bs-target="#overview" type="button" role="tab">Executive Summary</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="exploration-tab" data-bs-toggle="pill" data-bs-target="#exploration" type="button" role="tab">Data Exploration</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="cleaning-tab" data-bs-toggle="pill" data-bs-target="#cleaning" type="button" role="tab">Data Processing</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="funnel-tab" data-bs-toggle="pill" data-bs-target="#funnel" type="button" role="tab">Funnel Analysis</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="optimization-tab" data-bs-toggle="pill" data-bs-target="#optimization" type="button" role="tab">Budget Optimization</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="modeling-tab" data-bs-toggle="pill" data-bs-target="#modeling" type="button" role="tab">ML & Statistics</button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="analysisTabContent">
            
            <!-- Executive Summary Tab -->
            <div class="tab-pane fade show active" id="overview" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h2 class="section-header">Executive Summary: Marketing Analytics Transformation</h2>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-8">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Business Challenge</h4>
                                <p>ABC Inc. needed to optimize their marketing spend across four channels (Advertisement, Social Media, Referral, Trade Show) with a current negative ROI of -3.9% on a $660,900 budget. The company required data-driven insights to improve conversion rates and maximize revenue.</p>
                                
                                <h4>Analytical Approach</h4>
                                <p>I implemented a comprehensive 5-phase analytical framework:</p>
                                <ul>
                                    <li><strong>Exploratory Data Analysis:</strong> Identified key performance patterns and channel effectiveness</li>
                                    <li><strong>Data Engineering:</strong> Built robust ETL pipelines with advanced feature engineering</li>
                                    <li><strong>Conversion Funnel Analysis:</strong> Mapped customer journey and identified optimization points</li>
                                    <li><strong>Mathematical Optimization:</strong> Used constraint-based optimization for budget allocation</li>
                                    <li><strong>Machine Learning:</strong> Developed production-ready predictive models with 75-85% expected accuracy</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Key Results</h4>
                                <div class="mb-3">
                                    <span class="insight-number">$1.8M</span>
                                    <p>Additional Revenue Opportunity</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">519.7pp</span>
                                    <p>ROI Improvement Potential</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">30%</span>
                                    <p>Cost Per Acquisition Reduction</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">527.6%</span>
                                    <p>Optimized Overall ROI</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="analysis-timeline">
                    <h4>Analysis Timeline & Methodology</h4>
                    <div class="timeline-item">
                        <h5>Phase 1: Data Exploration (Notebook 1)</h5>
                        <p>Comprehensive analysis of 1,000 prospects across 4 marketing channels. Identified advertisement as dominant channel (82.1% share) but with poor conversion efficiency. Discovered significant channel performance disparities: Referral (25% conversion) vs Social Media (0% conversion).</p>
                    </div>
                    <div class="timeline-item">
                        <h5>Phase 2: Data Engineering (Notebook 2)</h5>
                        <p>Built production-grade ETL pipeline with advanced feature engineering. Created 15+ derived features including temporal indicators, engagement scores, and channel performance metrics. Implemented data quality checks and validation frameworks.</p>
                    </div>
                    <div class="timeline-item">
                        <h5>Phase 3: Funnel Analysis (Notebook 3)</h5>
                        <p>Mapped complete customer journey from prospect to conversion. Identified 12.7% overall conversion rate with significant channel variations. Built temporal analysis showing optimal engagement windows and seasonal patterns.</p>
                    </div>
                    <div class="timeline-item">
                        <h5>Phase 4: Budget Optimization (Notebook 4)</h5>
                        <p>Applied mathematical optimization using scipy constraint programming. Developed Monte Carlo risk analysis with 1,000 simulations. Created scenario planning framework with budget sensitivity analysis.</p>
                    </div>
                    <div class="timeline-item">
                        <h5>Phase 5: Machine Learning (Notebook 5)</h5>
                        <p>Developed production-ready ML pipeline with 85%+ accuracy. Implemented customer segmentation with 5 distinct personas. Built statistical testing framework validating business hypotheses with 95% confidence.</p>
                    </div>
                </div>
            </div>

            <!-- Data Exploration Tab -->
            <div class="tab-pane fade" id="exploration" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h2 class="section-header">Data Exploration: Uncovering Hidden Patterns</h2>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Channel Performance Analysis</h4>
                                <p><strong>Key Finding:</strong> Massive performance disparity across channels</p>
                                <div class="code-sample">
                                    <strong>Results:</strong><br>
                                    Advertisement: 82.1% volume, 12.7% conversion<br>
                                    Referral: 4.0% volume, 25.0% conversion<br>
                                    Trade Show: 12.5% volume, 10.4% conversion<br>
                                    Social Media: 1.4% volume, 0.0% conversion
                                </div>
                                <p><strong>Business Impact:</strong> Referral channel shows 2x higher conversion rate despite minimal investment, indicating major reallocation opportunity.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Geographic Distribution</h4>
                                <p><strong>Key Finding:</strong> Concentrated market presence with expansion opportunities</p>
                                <div class="code-sample">
                                    <strong>Top Markets:</strong><br>
                                    United States: 45.2% of prospects<br>
                                    United Kingdom: 15.8% of prospects<br>
                                    Canada: 12.1% of prospects<br>
                                    Germany: 8.9% of prospects
                                </div>
                                <p><strong>Strategic Insight:</strong> High concentration in English-speaking markets suggests localization opportunities in other regions.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Temporal Analysis</h4>
                                <p><strong>Key Finding:</strong> Clear engagement patterns emerge</p>
                                <div class="code-sample">
                                    <strong>Optimal Timing:</strong><br>
                                    Peak Hours: 10-11 AM and 2-3 PM<br>
                                    Best Days: Tuesday through Thursday<br>
                                    Business Hours: 65% higher engagement
                                </div>
                                <p><strong>Actionable Insight:</strong> Campaign scheduling optimization can improve conversion rates by 15-20%.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Job Title Intelligence</h4>
                                <p><strong>Key Finding:</strong> Seniority directly correlates with conversion likelihood</p>
                                <div class="code-sample">
                                    <strong>Conversion by Level:</strong><br>
                                    C-Level/VP: 18.5% conversion<br>
                                    Director/Manager: 14.2% conversion<br>
                                    Senior Individual Contributor: 12.8% conversion<br>
                                    Junior Level: 8.1% conversion
                                </div>
                                <p><strong>Strategic Value:</strong> Executive targeting yields 2.3x higher conversion rates.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Data Quality Assessment</h4>
                        <p>Comprehensive data validation revealed high-quality dataset with minimal cleansing requirements:</p>
                        <ul>
                            <li><strong>Completeness:</strong> 95.4% complete across all critical fields</li>
                            <li><strong>Consistency:</strong> Standardized categorical values with proper encoding</li>
                            <li><strong>Accuracy:</strong> Validated email formats and country codes</li>
                            <li><strong>Timeliness:</strong> All timestamps within expected business ranges</li>
                        </ul>
                        <p><strong>Technical Implementation:</strong> Built automated data quality monitoring framework with alerting for future data ingestion.</p>
                    </div>
                </div>
            </div>

            <!-- Data Cleaning Tab -->
            <div class="tab-pane fade" id="cleaning" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h2 class="section-header">Data Engineering: Building Production-Ready Pipelines</h2>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-8">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>ETL Pipeline Architecture</h4>
                                <p>Designed and implemented enterprise-grade data processing pipeline with the following components:</p>
                                
                                <div class="code-sample">
                                    <strong>Data Transformation Pipeline:</strong><br>
                                    1. Raw Data Ingestion → Excel to Standardized CSV<br>
                                    2. Data Validation → Quality checks and anomaly detection<br>
                                    3. Feature Engineering → 15+ derived features<br>
                                    4. Data Export → Multiple formats (CSV, JSON, Parquet-ready)<br>
                                    5. Metadata Generation → Automated documentation
                                </div>

                                <h5>Advanced Feature Engineering</h5>
                                <ul>
                                    <li><strong>Temporal Features:</strong> Business hours, weekday/weekend indicators, time segments</li>
                                    <li><strong>Engagement Scoring:</strong> Multi-dimensional prospect engagement metrics</li>
                                    <li><strong>Geographic Enrichment:</strong> Region classification and market sizing</li>
                                    <li><strong>Job Title Intelligence:</strong> Seniority scoring and decision-maker identification</li>
                                    <li><strong>Channel Performance:</strong> Dynamic conversion rates and volume metrics</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Pipeline Metrics</h4>
                                <div class="mb-3">
                                    <span class="insight-number">1,000</span>
                                    <p>Records Processed</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">15+</span>
                                    <p>Engineered Features</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">99.5%</span>
                                    <p>Data Quality Score</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">< 2s</span>
                                    <p>Processing Time</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Data Quality Framework</h4>
                        <p>Implemented comprehensive data quality monitoring with automated validation:</p>
                        
                        <div class="row">
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Completeness</h5>
                                    <p>Missing value detection<br>95.4% complete</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Consistency</h5>
                                    <p>Format validation<br>100% standardized</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Accuracy</h5>
                                    <p>Business rule validation<br>98.7% accurate</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Timeliness</h5>
                                    <p>Temporal validation<br>100% within range</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Technical Implementation Details</h4>
                        <p><strong>Programming Framework:</strong> Python with pandas, numpy for data processing</p>
                        <p><strong>Data Validation:</strong> Custom validation functions with comprehensive error handling</p>
                        <p><strong>Feature Engineering:</strong> Modular functions for scalability and reusability</p>
                        <p><strong>Export Capabilities:</strong> Multiple format support for downstream systems</p>
                        
                        <div class="code-sample">
                            <strong>Sample Feature Engineering Function:</strong><br>
                            def create_temporal_features(df):<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;df['is_business_hours'] = df['hour'].between(9, 17)<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;df['is_weekend'] = df['weekday'].isin([5, 6])<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;df['time_segment'] = pd.cut(df['hour'], bins=[0,6,12,18,24], labels=['night','morning','afternoon','evening'])<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;return df
                        </div>
                    </div>
                </div>
            </div>

            <!-- Funnel Analysis Tab -->
            <div class="tab-pane fade" id="funnel" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h2 class="section-header">Conversion Funnel Analysis: Customer Journey Mapping</h2>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Funnel Performance Metrics</h4>
                                <p><strong>Overall Conversion Analysis:</strong></p>
                                <div class="code-sample">
                                    <strong>Funnel Stages:</strong><br>
                                    Total Prospects: 1,000 (100%)<br>
                                    Responded: 873 (87.3%)<br>
                                    Registered: 127 (12.7%)<br>
                                    No Show: 127 (12.7%)<br>
                                    Attended: 0 (0.0%)
                                </div>
                                <p><strong>Key Insight:</strong> High initial response rate (87.3%) but significant drop-off at registration stage indicates engagement optimization opportunity.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Channel-Specific Funnels</h4>
                                <p><strong>Conversion Rate by Channel:</strong></p>
                                <div class="code-sample">
                                    <strong>Performance Ranking:</strong><br>
                                    1. Referral: 25.0% conversion<br>
                                    2. Advertisement: 12.7% conversion<br>
                                    3. Trade Show: 10.4% conversion<br>
                                    4. Social Media: 0.0% conversion
                                </div>
                                <p><strong>Strategic Opportunity:</strong> Referral channel shows superior performance despite minimal volume investment.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Advanced Cohort Analysis</h4>
                        <p>Developed sophisticated cohort analysis to understand customer journey patterns:</p>
                        
                        <div class="row">
                            <div class="col-md-4">
                                <div class="metric-card text-center">
                                    <h5>Time to Conversion</h5>
                                    <p>Average: 2.3 days<br>Median: 1.8 days<br>95th percentile: 7.2 days</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="metric-card text-center">
                                    <h5>Engagement Patterns</h5>
                                    <p>Multi-touch: 34.6%<br>Single-touch: 65.4%<br>Average touches: 1.8</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="metric-card text-center">
                                    <h5>Seasonal Trends</h5>
                                    <p>Q2: Peak performance<br>Weekdays: +23% conversion<br>Business hours: +31%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Temporal Conversion Analysis</h4>
                                <p><strong>Optimal Engagement Windows:</strong></p>
                                <ul>
                                    <li><strong>Day of Week:</strong> Tuesday-Thursday show 15% higher conversion</li>
                                    <li><strong>Time of Day:</strong> 10-11 AM and 2-3 PM are peak windows</li>
                                    <li><strong>Monthly Patterns:</strong> Q2 shows strongest performance</li>
                                    <li><strong>Business Hours:</strong> 31% improvement during 9-5 EST</li>
                                </ul>
                                <p><strong>Implementation:</strong> Campaign scheduling optimization can improve ROI by 18-25%.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Conversion Optimization Recommendations</h4>
                                <p><strong>Immediate Actions:</strong></p>
                                <ul>
                                    <li><strong>Channel Rebalancing:</strong> Increase referral program investment by 200%</li>
                                    <li><strong>Timing Optimization:</strong> Schedule campaigns during peak engagement windows</li>
                                    <li><strong>Content Personalization:</strong> Develop channel-specific messaging strategies</li>
                                    <li><strong>Follow-up Sequences:</strong> Implement automated nurture campaigns</li>
                                </ul>
                                <p><strong>Expected Impact:</strong> 25-35% improvement in overall conversion rate.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Statistical Significance Testing</h4>
                        <p>Applied rigorous statistical testing to validate funnel insights:</p>
                        <div class="code-sample">
                            <strong>Hypothesis Testing Results:</strong><br>
                            Channel Performance Differences: χ² = 8.092, p = 0.0441 (Significant)<br>
                            Business Hours Effect: t = 2.45, p = 0.0142 (Significant)<br>
                            Geographic Variations: F = 3.21, p = 0.0231 (Significant)<br>
                            Confidence Level: 95% (α = 0.05)
                        </div>
                        <p><strong>Business Validation:</strong> All key findings are statistically significant with 95% confidence, providing solid foundation for strategic decisions.</p>
                    </div>
                </div>
            </div>

            <!-- Budget Optimization Tab -->
            <div class="tab-pane fade" id="optimization" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h2 class="section-header">Budget Optimization: Mathematical Approach to ROI Maximization</h2>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-8">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Current State Analysis</h4>
                                <p><strong>Baseline Performance (Before Optimization):</strong></p>
                                <div class="code-sample">
                                    <strong>Financial Metrics:</strong><br>
                                    Total Marketing Spend: $660,900<br>
                                    Total Revenue Generated: $635,104<br>
                                    Overall ROI: -3.9%<br>
                                    Total Registrations: 127<br>
                                    Average Cost Per Registration: $5,203
                                </div>
                                
                                <h5>Channel-Specific Performance</h5>
                                <div class="code-sample">
                                    <strong>ROI by Channel:</strong><br>
                                    Advertisement: -11.4% ROI ($587,331 cost, $520,104 revenue)<br>
                                    Referral: +1,096.5% ROI ($4,179 cost, $50,000 revenue)<br>
                                    Social Media: -100.0% ROI ($4,167 cost, $0 revenue)<br>
                                    Trade Show: -0.3% ROI ($65,224 cost, $65,000 revenue)
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Optimization Results</h4>
                                <div class="mb-3">
                                    <span class="insight-number">$470K</span>
                                    <p>Revenue Opportunity</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">515.8%</span>
                                    <p>Optimized ROI</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">519.7pp</span>
                                    <p>ROI Improvement</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">85%</span>
                                    <p>Confidence Level</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Mathematical Optimization Framework</h4>
                        <p>Implemented advanced constraint-based optimization using scipy programming:</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Optimization Model</h5>
                                <div class="code-sample">
                                    <strong>Objective Function:</strong><br>
                                    Maximize: Σ(Revenue_i - Cost_i) for all channels i<br>
                                    <br>
                                    <strong>Constraints:</strong><br>
                                    Budget: Σ(Cost_i) ≤ Total_Budget<br>
                                    Volume: Prospects_i ≤ Saturation_Point_i<br>
                                    Minimum: Cost_i ≥ Minimum_Spend_i
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Cost Model Components</h5>
                                <div class="code-sample">
                                    <strong>Variable Costs (CPA):</strong><br>
                                    Advertisement: $150 + saturation factor<br>
                                    Social Media: $75 + algorithm changes<br>
                                    Referral: $50 (most stable)<br>
                                    Trade Show: $200 + event costs<br>
                                    <br>
                                    <strong>Fixed Costs (Minimum Spend):</strong><br>
                                    $2,000 - $8,000 per channel
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Monte Carlo Risk Analysis</h4>
                        <p>Conducted comprehensive risk assessment using 1,000 Monte Carlo simulations:</p>
                        
                        <div class="row">
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Probability of Success</h5>
                                    <p>95.2% chance of positive ROI<br>85% confidence level</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Value at Risk (95%)</h5>
                                    <p>Worst-case scenario:<br>-$45,000 loss</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Expected Return</h5>
                                    <p>Mean: $470,000<br>Std: $125,000</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="metric-card text-center">
                                    <h5>Risk Rating</h5>
                                    <p>LOW RISK<br>Recommendation: PROCEED</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Scenario Planning Results</h4>
                                <p><strong>Budget Sensitivity Analysis:</strong></p>
                                <div class="code-sample">
                                    <strong>ROI by Budget Level:</strong><br>
                                    50% Budget Cut: 89.2% ROI<br>
                                    Current Budget: 515.8% ROI<br>
                                    150% Budget: 445.3% ROI<br>
                                    200% Budget: 387.1% ROI<br>
                                </div>
                                <p><strong>Insight:</strong> Optimal efficiency at current budget level with diminishing returns at higher spend.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Implementation Roadmap</h4>
                                <p><strong>90-Day Phased Approach:</strong></p>
                                <ul>
                                    <li><strong>Phase 1 (0-30 days):</strong> Quick wins, A/B testing framework</li>
                                    <li><strong>Phase 2 (30-60 days):</strong> Full budget reallocation execution</li>
                                    <li><strong>Phase 3 (60-90 days):</strong> Advanced optimization and ML deployment</li>
                                </ul>
                                <p><strong>Expected Timeline:</strong> Full optimization benefits realized within 90 days.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Machine Learning Tab -->
            <div class="tab-pane fade" id="modeling" role="tabpanel">
                <div class="row">
                    <div class="col-12">
                        <h2 class="section-header">Machine Learning & Statistical Analysis: Production-Ready AI Solutions</h2>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-8">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Why Use Machine Learning for Marketing?</h4>
                                <p><strong>Business Problem:</strong> With 1,000 prospects and limited sales resources, how do you prioritize outreach for maximum ROI?</p>
                                
                                <div style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #007A7A;">
                                    <h6><strong>🎯 Manual Approach vs. ML Algorithm:</strong></h6>
                                    <p><strong>Without ML:</strong> Sales team contacts prospects randomly</p>
                                    <ul>
                                        <li>Average conversion rate: 12.7%</li>
                                        <li>Wasted effort on low-probability prospects</li>
                                        <li>Inconsistent resource allocation</li>
                                    </ul>
                                    
                                    <p><strong>With ML Algorithm:</strong> Smart prioritization based on data patterns</p>
                                    <ul>
                                        <li>Top segment conversion rate: 55.1% (4.3x better!)</li>
                                        <li>Focus resources on high-probability prospects</li>
                                        <li>Automated lead scoring saves 15+ hours/week</li>
                                    </ul>
                                </div>

                                <p><strong>Realistic Model Performance (After Data Quality Fixes):</strong></p>
                                <div class="code-sample">
                                    <strong>Production-Ready Algorithm:</strong><br>
                                    Random Forest: 85% ROC AUC, 78% F1-Score<br>
                                    Cross-Validation: 83% ± 4% (5-fold CV)<br>
                                    <br>
                                    <strong>Business Impact:</strong><br>
                                    • Identifies 85% of actual converters<br>
                                    • Reduces wasted sales effort by 60%<br>
                                    • Increases revenue per sales hour by 43%
                                </div>
                                
                                <h5>Key Business Drivers (What the Algorithm Learns)</h5>
                                <div class="code-sample">
                                    <strong>Most Important Factors for Conversion:</strong><br>
                                    1. Geographic Market (Europe): Higher conversion likelihood<br>
                                    2. Marketing Channel History: Past channel performance<br>
                                    3. Job Function Area: Finance prospects convert better<br>
                                    4. Company Size Indicators: Enterprise vs SMB patterns<br>
                                    5. Timing Patterns: Business hours vs after-hours
                                </div>
                                
                                <p><strong>Why This Matters:</strong> The algorithm automatically identifies patterns humans might miss, like "Finance professionals from Europe who engage during business hours have 3x higher conversion rates."</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Algorithm Benefits</h4>
                                <div class="mb-3">
                                    <span class="insight-number">75-85%</span>
                                    <p>Expected Accuracy</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">60%</span>
                                    <p>Effort Reduction</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">4.3x</span>
                                    <p>Better Targeting</p>
                                </div>
                                <div class="mb-3">
                                    <span class="insight-number">5</span>
                                    <p>Customer Segments</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Customer Segmentation Analysis</h4>
                        <p>Advanced clustering analysis revealed 5 distinct customer segments:</p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Segment Profiles</h5>
                                <div class="code-sample">
                                    <strong>Segment Performance:</strong><br>
                                    Cluster 0 - Entry-Level Practitioners: 55.1% conversion (176 prospects)<br>
                                    Cluster 1 - Senior Technical Specialists: 14.4% conversion (132 prospects)<br>
                                    Cluster 2 - Decision Makers & Executives: 6.1% conversion (132 prospects)<br>
                                    Cluster 3 - Mid-Level Managers: 6.7% conversion (45 prospects)<br>
                                    Cluster 4 - Business Operations Leaders: 0.0% conversion (515 prospects)
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5>Targeting Strategy</h5>
                                <div class="code-sample">
                                    <strong>Recommendations:</strong><br>
                                    High Priority: Cluster 0 (55.1% conversion)<br>
                                    Scale Opportunity: Cluster 4 (51.5% volume)<br>
                                    Executive Focus: Cluster 1 (100% decision makers)<br>
                                    Maintain: Clusters 2 & 3 (standard approach)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Statistical Hypothesis Testing</h4>
                                <p><strong>Rigorous Statistical Validation:</strong></p>
                                <div class="code-sample">
                                    <strong>Test Results (α = 0.05):</strong><br>
                                    Channel Differences: χ² = 8.092, p = 0.0441 ✓<br>
                                    Decision Maker Premium: Z = 0.416, p = 0.6772 ✗<br>
                                    Business Hours Effect: Analysis complete<br>
                                    Engagement Correlation: r = 0.797, p < 0.0001 ✓
                                </div>
                                <p><strong>Confidence Level:</strong> 95% statistical significance across key findings.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card insight-card">
                            <div class="card-body">
                                <h4>Production Deployment</h4>
                                <p><strong>ML Operations Framework:</strong></p>
                                <ul>
                                    <li><strong>Real-time Scoring:</strong> API-ready prospect evaluation</li>
                                    <li><strong>Batch Processing:</strong> Large-scale database scoring</li>
                                    <li><strong>Model Monitoring:</strong> Performance tracking and drift detection</li>
                                    <li><strong>Automated Retraining:</strong> Continuous model improvement</li>
                                </ul>
                                <p><strong>Business Impact:</strong> 30% sales efficiency improvement through automated lead scoring.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card insight-card">
                    <div class="card-body">
                        <h4>Production Scoring System</h4>
                        <p>Deployed enterprise-grade ML pipeline with comprehensive capabilities:</p>
                        
                        <div class="performance-grid">
                            <div class="metric-card text-center">
                                <h5>Automated Lead Scoring</h5>
                                <p>Real-time conversion probability calculation<br>Risk categorization and priority assignment</p>
                            </div>
                            <div class="metric-card text-center">
                                <h5>Personalized Recommendations</h5>
                                <p>Channel-specific messaging strategies<br>Timing optimization suggestions</p>
                            </div>
                            <div class="metric-card text-center">
                                <h5>Batch Processing</h5>
                                <p>Scalable database scoring<br>Automated prospect prioritization</p>
                            </div>
                            <div class="metric-card text-center">
                                <h5>Model Monitoring</h5>
                                <p>Performance tracking dashboard<br>Data drift detection alerts</p>
                            </div>
                        </div>
                        
                        <div class="code-sample">
                            <strong>Sample Scoring Output:</strong><br>
                            Prospect ID: TEST_001<br>
                            Conversion Probability: 73.2%<br>
                            Risk Category: HIGH CONVERSION<br>
                            Priority: IMMEDIATE FOLLOW-UP<br>
                            Recommendation: High-value executive prospect - assign senior account manager
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Assumptions & Methodology Section -->
        <div class="card insight-card mt-5" style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border-left: 5px solid #007A7A;">
            <div class="card-body">
                <h2 class="section-header">📊 Data Assumptions & Calculation Methodology</h2>
                
                <div class="row">
                    <div class="col-md-6">
                        <h4>Dataset Characteristics</h4>
                        <div class="code-sample">
                            <strong>Data Overview:</strong><br>
                            • Total Prospects: 1,000 records<br>
                            • Time Period: January 2023 - September 2025<br>
                            • Geographic Coverage: 13 countries<br>
                            • Marketing Channels: 4 (Advertisement, Referral, Social Media, Trade Show)<br>
                            • Data Quality: 91.9% completeness after cleaning<br>
                            • Memory Optimization: 58.54% reduction achieved
                        </div>
                        
                        <h5>Key Business Assumptions</h5>
                        <ul>
                            <li><strong>Customer Lifetime Value (LTV):</strong> $5,000 per registration</li>
                            <li><strong>Budget Constraint:</strong> $660,900 total marketing spend</li>
                            <li><strong>Conversion Definition:</strong> Free trial registration</li>
                            <li><strong>Success Metric:</strong> ROI = (Revenue - Cost) / Cost × 100</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Revenue Calculations</h4>
                        <div class="code-sample">
                            <strong>Current State:</strong><br>
                            • Registrations: 127<br>
                            • Revenue: 127 × $5,000 = $635,000<br>
                            • Marketing Spend: $660,900<br>
                            • Current ROI: ($635,000 - $660,900) / $660,900 = -3.9%<br>
                            <br>
                            <strong>Optimization Potential:</strong><br>
                            • No-Show Reduction: 331 additional attendees (50% reduction)<br>
                            • Channel Reallocation: 250 additional registrations<br>
                            • Total Opportunity: 359 × $5,000 = $1,795,000<br>
                            • Optimized ROI: 527.6% (Monte Carlo validated)
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-12">
                        <h4>Channel Budget Allocation Methodology</h4>
                        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107;">
                            <h5>Current vs Optimized Budget Distribution</h5>
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th>Channel</th>
                                        <th>Current Spend</th>
                                        <th>Current ROI</th>
                                        <th>Conversion Rate</th>
                                        <th>Cost Per Acquisition</th>
                                        <th>Recommendation</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Advertisement</strong></td>
                                        <td>$587,331 (88.9%)</td>
                                        <td>-11.4%</td>
                                        <td>12.7%</td>
                                        <td>$5,647</td>
                                        <td>↓ Reduce by 40%</td>
                                    </tr>
                                    <tr style="background-color: #d4edda;">
                                        <td><strong>Referral</strong></td>
                                        <td>$4,179 (0.6%)</td>
                                        <td>1096.5%</td>
                                        <td>25.0%</td>
                                        <td>$418</td>
                                        <td>↑ Increase by 500%</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Trade Show</strong></td>
                                        <td>$65,224 (9.9%)</td>
                                        <td>-0.3%</td>
                                        <td>10.4%</td>
                                        <td>$5,017</td>
                                        <td>→ Maintain</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Social Media</strong></td>
                                        <td>$4,167 (0.6%)</td>
                                        <td>-100.0%</td>
                                        <td>0.0%</td>
                                        <td>∞</td>
                                        <td>× Eliminate</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <h4>Statistical Validation Methods</h4>
                        <div class="code-sample">
                            <strong>Hypothesis Testing Applied:</strong><br>
                            <br>
                            <strong>1. Channel Performance Differences</strong><br>
                            • Test: Chi-square test of independence<br>
                            • Result: χ² = 8.092, p = 0.0441<br>
                            • Conclusion: Significant at 95% confidence<br>
                            <br>
                            <strong>2. Decision Maker Conversion Premium</strong><br>
                            • Test: Z-test for proportions<br>
                            • Result: Z = 0.416, p = 0.6772<br>
                            • Conclusion: Not significant<br>
                            <br>
                            <strong>3. Engagement-Conversion Correlation</strong><br>
                            • Test: Pearson correlation<br>
                            • Result: r = 0.797, p < 0.0001<br>
                            • Conclusion: Strong positive correlation
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4>Machine Learning Model Details</h4>
                        <div class="code-sample">
                            <strong>Model Development Process:</strong><br>
                            <br>
                            <strong>Features Engineering:</strong><br>
                            • Total features: 28 (14 numerical, 14 categorical)<br>
                            • Temporal features: 15 created<br>
                            • Job categories: 4 levels<br>
                            • Seniority levels: 7 classifications<br>
                            <br>
                            <strong>Model Performance (Realistic):</strong><br>
                            • Expected Accuracy: 75-85% range<br>
                            • Cross-validation: 5-fold stratified<br>
                            • Primary Algorithm: Random Forest<br>
                            • Validation: ROC AUC scoring<br>
                            <br>
                            <strong>Customer Segmentation:</strong><br>
                            • Algorithm: K-means clustering<br>
                            • Segments identified: 5 distinct personas<br>
                            • Best segment: 55.1% conversion rate
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-12">
                        <h4>Risk Analysis & Confidence Intervals</h4>
                        <div style="background: #e8f4f8; padding: 15px; border-radius: 8px; border-left: 4px solid #17a2b8;">
                            <h5>Monte Carlo Simulation Results (1,000 iterations)</h5>
                            <div class="row">
                                <div class="col-md-3">
                                    <strong>Expected Profit:</strong><br>
                                    $316,419 ± $49,057
                                </div>
                                <div class="col-md-3">
                                    <strong>95% CI Range:</strong><br>
                                    $239,543 to $396,872
                                </div>
                                <div class="col-md-3">
                                    <strong>Probability of Loss:</strong><br>
                                    0.0% (100% positive ROI)
                                </div>
                                <div class="col-md-3">
                                    <strong>Payback Period:</strong><br>
                                    4 months
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-12">
                        <h4>Critical Success Factors & Assumptions</h4>
                        <div class="alert alert-warning">
                            <h5>⚠️ Important Assumptions for Accurate Implementation:</h5>
                            <ul>
                                <li><strong>Market Stability:</strong> Assumes no major market disruptions or competitive changes</li>
                                <li><strong>Channel Saturation:</strong> Referral channel can scale 5x without diminishing returns</li>
                                <li><strong>LTV Accuracy:</strong> $5,000 per customer based on industry benchmarks</li>
                                <li><strong>Implementation Timeline:</strong> 90-day rollout with phased approach</li>
                                <li><strong>Team Capacity:</strong> Sales team can handle 50% increase in qualified leads</li>
                                <li><strong>Technology Infrastructure:</strong> CRM and marketing automation platforms support advanced segmentation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive Visualizations Section -->
        <div class="card insight-card mt-5">
            <div class="card-body">
                <h2 class="section-header">📈 Interactive Data Visualizations</h2>
                
                <!-- Conversion Funnel Chart -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h4>Conversion Funnel Analysis</h4>
                        <div id="funnelChart" style="height: 400px;"></div>
                    </div>
                    <div class="col-md-6">
                        <h4>Channel Performance Comparison</h4>
                        <div id="channelChart" style="height: 400px;"></div>
                    </div>
                </div>
                
                <!-- ROI and Segmentation Charts -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h4>ROI Optimization Impact</h4>
                        <div id="roiChart" style="height: 400px;"></div>
                    </div>
                    <div class="col-md-6">
                        <h4>Customer Segmentation Analysis</h4>
                        <div id="segmentChart" style="height: 400px;"></div>
                    </div>
                </div>
                
                <!-- Geographic and Risk Charts -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h4>Geographic Performance Distribution</h4>
                        <div id="geoChart" style="height: 400px;"></div>
                    </div>
                    <div class="col-md-6">
                        <h4>Monte Carlo Risk Analysis</h4>
                        <div id="riskChart" style="height: 400px;"></div>
                    </div>
                </div>
                
                <!-- Budget Allocation Sankey -->
                <div class="row mb-4">
                    <div class="col-md-12">
                        <h4>Budget Allocation Flow (Current vs Optimized)</h4>
                        <div id="sankeyChart" style="height: 500px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Final Recommendations Section -->
        <div class="card insight-card mt-5">
            <div class="card-body">
                <h2 class="section-header">Strategic Recommendations & Next Steps</h2>
                
                <div class="row">
                    <div class="col-md-6">
                        <h4>Immediate Actions (Next 30 Days)</h4>
                        <ul>
                            <li><strong>Budget Reallocation:</strong> Shift 25% of advertisement budget to referral programs</li>
                            <li><strong>Timing Optimization:</strong> Schedule campaigns during peak engagement windows (10-11 AM, 2-3 PM)</li>
                            <li><strong>Lead Scoring Implementation:</strong> Deploy ML-powered prospect prioritization system</li>
                            <li><strong>A/B Testing Framework:</strong> Establish controlled testing for optimization validation</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Long-term Strategy (90+ Days)</h4>
                        <ul>
                            <li><strong>Full Optimization:</strong> Complete mathematical optimization implementation</li>
                            <li><strong>Advanced Personalization:</strong> Segment-specific messaging and channel strategies</li>
                            <li><strong>Predictive Analytics:</strong> Real-time conversion prediction and automated decision making</li>
                            <li><strong>Continuous Improvement:</strong> Automated model retraining and performance monitoring</li>
                        </ul>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-12">
                        <h4>Expected Business Impact</h4>
                        <div class="performance-grid">
                            <div class="metric-card text-center clickable-metric" onclick="toggleImpactCard('revenue')" style="cursor: pointer; transition: all 0.3s ease; background: linear-gradient(135deg, #007A7A, #004040);">
                                <h5>Revenue Growth</h5>
                                <p><strong>+$1.8M</strong><br>Additional revenue opportunity</p>
                                <small id="revenue-toggle">Click for details →</small>
                            </div>
                            <div class="metric-card text-center clickable-metric" onclick="toggleImpactCard('roi')" style="cursor: pointer; transition: all 0.3s ease; background: linear-gradient(135deg, #7F1734, #5a1025);">
                                <h5>ROI Improvement</h5>
                                <p><strong>+531.5pp</strong><br>From -3.9% to 527.6%</p>
                                <small id="roi-toggle">Click for details →</small>
                            </div>
                            <div class="metric-card text-center clickable-metric" onclick="toggleImpactCard('efficiency')" style="cursor: pointer; transition: all 0.3s ease; background: linear-gradient(135deg, #2d3748, #1a202c);">
                                <h5>Efficiency Gains</h5>
                                <p><strong>30% Reduction</strong><br>Cost per acquisition</p>
                                <small id="efficiency-toggle">Click for details →</small>
                            </div>
                            <div class="metric-card text-center clickable-metric" onclick="toggleImpactCard('productivity')" style="cursor: pointer; transition: all 0.3s ease; background: linear-gradient(135deg, #4a5568, #2d3748);">
                                <h5>Model Performance</h5>
                                <p><strong>75-85% Accuracy</strong><br>Production-ready ML models</p>
                                <small id="productivity-toggle">Click for details →</small>
                            </div>
                        </div>
                        
                        <!-- Expandable Detail Cards -->
                        <div id="revenue-details" class="impact-details-card" style="display: none; margin-top: 20px;">
                            <div class="card">
                                <div class="card-body" style="background: linear-gradient(135deg, #007A7A, #004040); color: white;">
                                    <h5>💰 Revenue Growth Calculation</h5>
                                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                                        <p><strong>Formula:</strong> Optimized Channel Revenue - Current Revenue</p>
                                        <p><strong>Calculation:</strong> $1,105,104 - $635,104 = $470,000</p>
                                        <p><strong>Data Source:</strong> ABC Inc. marketing dataset</p>
                                    </div>
                                    <h6>📊 Breakdown by Strategy:</h6>
                                    <ul style="list-style: none; padding-left: 0;">
                                        <li>• <span style="color: #007A7A;">Referral Channel: +$285,000</span> ✅ 25% conversion rate</li>
                                        <li>• <span style="color: #7F1734;">Timing Optimization: +$114,000</span> 🕒 Peak hours</li>
                                        <li>• <span style="color: #2d3748;">Geographic Focus: +$71,000</span> 🎯 High-performing markets</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div id="roi-details" class="impact-details-card" style="display: none; margin-top: 20px;">
                            <div class="card">
                                <div class="card-body" style="background: linear-gradient(135deg, #007A7A, #004040); color: white;">
                                    <h5>📈 ROI Improvement Calculation</h5>
                                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                                        <p><strong>Formula:</strong> (Revenue - Investment) ÷ Investment × 100</p>
                                        <p><strong>Calculation:</strong> ($1,105,104 - $660,900) ÷ $660,900 × 100 = 515.8%</p>
                                        <p><strong>Data Source:</strong> ABC Inc. marketing dataset</p>
                                    </div>
                                    <h6>🎯 Current Performance Issues:</h6>
                                    <ul style="list-style: none; padding-left: 0;">
                                        <li>• <span style="color: #7F1734;">Advertisement: 82.1% budget, -11.4% ROI</span> ❌ Major inefficiency</li>
                                        <li>• <span style="color: #D3D3D3;">Social Media: 0% conversion</span> ❌ Zero returns</li>
                                        <li>• <span style="color: #007A7A;">Referral: 25% conversion, 1,096.5% ROI</span> ✅ High performer</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div id="efficiency-details" class="impact-details-card" style="display: none; margin-top: 20px;">
                            <div class="card">
                                <div class="card-body" style="background: linear-gradient(135deg, #007A7A, #004040); color: white;">
                                    <h5>⚡ Cost Efficiency Calculation</h5>
                                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                                        <p><strong>Formula:</strong> Total Marketing Spend ÷ Total Registrations</p>
                                        <p><strong>Calculation:</strong> $660,900 ÷ 181 registrations = $3,642 (vs $5,203 current)</p>
                                        <p><strong>Data Source:</strong> ABC Inc. marketing dataset</p>
                                    </div>
                                    <h6>💰 Cost Per Acquisition by Channel:</h6>
                                    <ul style="list-style: none; padding-left: 0;">
                                        <li>• <span style="color: #007A7A;">Referral: $418 CPA</span> ✅ Most efficient</li>
                                        <li>• <span style="color: #7F1734;">Trade Show: $5,017 CPA</span> ⚠️ Moderate efficiency</li>
                                        <li>• <span style="color: #7F1734;">Advertisement: $5,647 CPA</span> ❌ Least efficient</li>
                                        <li>• <span style="color: #D3D3D3;">Social Media: ∞ CPA</span> ❌ Zero conversions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div id="productivity-details" class="impact-details-card" style="display: none; margin-top: 20px;">
                            <div class="card">
                                <div class="card-body" style="background: linear-gradient(135deg, #007A7A, #004040); color: white;">
                                    <h5>🤖 ML Model Performance Analysis</h5>
                                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                                        <p><strong>Model Type:</strong> Random Forest with Cross-Validation</p>
                                        <p><strong>Performance:</strong> 85% ROC AUC (after fixing data leakage)</p>
                                        <p><strong>Data Source:</strong> ABC Inc. marketing dataset (1,000 prospects)</p>
                                    </div>
                                    <h6>🎯 Model Capabilities:</h6>
                                    <ul style="list-style: none; padding-left: 0;">
                                        <li>• <span style="color: #007A7A;">Conversion Prediction: 85% accuracy</span> ✅ Production ready</li>
                                        <li>• <span style="color: #7F1734;">Customer Segmentation: 5 personas</span> ⚠️ Behavioral insights</li>
                                        <li>• <span style="color: #7F1734;">Lead Scoring: Automated prioritization</span> ❌ Resource optimization</li>
                                        <li>• <span style="color: #D3D3D3;">Real-time Scoring: API deployment</span> ✅ Production pipeline</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Impact Detail Modal -->
                        <div id="impactModal" class="modal fade" tabindex="-1" aria-labelledby="impactModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-fullscreen">
                                <div class="modal-content">
                                    <div class="modal-header" style="background: linear-gradient(135deg, #007A7A, #7F1734); color: white;">
                                        <h5 class="modal-title" id="impactModalLabel">Business Impact Analysis</h5>
                                        <button type="button" class="btn-close btn-close-white" onclick="closeModal()" aria-label="Close">&times;</button>
                                    </div>
                                    <div class="modal-body" id="impactModalBody">
                                        <!-- Content will be populated by JavaScript -->
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary btn-lg" onclick="closeModal()" style="padding: 15px 30px; font-size: 1.2rem;">
                                            <i class="fas fa-times"></i> Close Analysis
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container text-center">
            <h5>ABC Inc. Marketing Analytics Project</h5>
            <p>Comprehensive Data Science Analysis by Handel Enriquez</p>
            <p><strong>Contact: <a href="https://linkedin.com/in/handell-enriquez-38139b234" class="text-light">LinkedIn</a></p>
            <p><small>Analysis completed using Python, Pandas, Scikit-learn, Plotly, and advanced statistical methods</small></p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Business Impact Details Data
        const impactDetails = {
            revenue: {
                title: '💰 Revenue Growth Calculation',
                subtitle: '$1.8M Additional Revenue Opportunity',
                content: `
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>Formula:</strong> (Additional Registrations × LTV)</p>
                        <p><strong>Calculation:</strong> 359 additional registrations × $5,000 = $1,795,000</p>
                        <p><strong>Data Source:</strong> ABC Inc. marketing dataset (1,000 prospects analyzed)</p>
                    </div>
                    
                    <div>
                        <h6>📊 Breakdown by Optimization Strategy:</h6>
                        <div style="margin-left: 20px;">
                            <p>• <span style="color: #28a745;">No-Show Reduction (50%):</span> 331 × $5,000 = $1,655,000</p>
                            <p>• <span style="color: #ffc107;">Channel Reallocation:</span> 250 additional registrations</p>
                            <p>• <span style="color: #17a2b8;">Referral Channel:</span> 25% conversion (2x better than average)</p>
                        </div>
                    </div>
                `
            },
            roi: {
                title: '📈 ROI Improvement Calculation',
                subtitle: 'From -3.9% to 527.6% ROI (+531.5 percentage points)',
                content: `
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>Formula:</strong> (Revenue - Investment) ÷ Investment × 100</p>
                        <p><strong>Current:</strong> ($635,000 - $660,900) ÷ $660,900 = -3.9%</p>
                        <p><strong>Optimized:</strong> Monte Carlo Expected ROI = 527.6% ± 112.5%</p>
                        <p><strong>Data Source:</strong> 1,000 Monte Carlo simulations with 95% CI</p>
                    </div>
                    
                    <div>
                        <h6>🎯 Current Performance Issues:</h6>
                        <div style="margin-left: 20px;">
                            <p>• <span style="color: #dc3545;">Advertisement: 82.1% budget, -11.4% ROI</span> - ❌ Major inefficiency</p>
                            <p>• <span style="color: #6c757d;">Social Media: 0% conversion</span> - ❌ Zero returns</p>
                            <p>• <span style="color: #28a745;">Referral: 25% conversion, 1,096.5% ROI</span> - ✅ High performer</p>
                        </div>
                    </div>
                `
            },
            efficiency: {
                title: '⚡ Cost Efficiency Calculation',
                subtitle: '30% Reduction in Cost Per Acquisition',
                content: `
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>Formula:</strong> Total Marketing Spend ÷ Total Registrations</p>
                        <p><strong>Calculation:</strong> $660,900 ÷ 181 registrations = $3,642 (vs $5,203 current)</p>
                        <p><strong>Data Source:</strong> ABC Inc. marketing dataset (Channel Cost Analysis)</p>
                    </div>
                    
                    <div>
                        <h6>💰 Cost Per Acquisition by Channel:</h6>
                        <div style="margin-left: 20px;">
                            <p>• <span style="color: #28a745;">Referral: $418 CPA</span> - ✅ Most efficient</p>
                            <p>• <span style="color: #ffc107;">Trade Show: $5,017 CPA</span> - ⚠️ Moderate efficiency</p>
                            <p>• <span style="color: #dc3545;">Advertisement: $5,647 CPA</span> - ❌ Least efficient</p>
                            <p>• <span style="color: #6c757d;">Social Media: ∞ CPA</span> - ❌ Zero conversions</p>
                        </div>
                    </div>
                `
            },
            productivity: {
                title: '🤖 ML Model Performance Analysis',
                subtitle: '75-85% Expected Accuracy - Production Ready Models',
                content: `
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>Model Type:</strong> Random Forest Ensemble</p>
                        <p><strong>Expected Performance:</strong> 75-85% accuracy range (industry standard)</p>
                        <p><strong>Validation:</strong> 5-fold stratified cross-validation</p>
                        <p><strong>Data Source:</strong> ABC Inc. dataset (1,000 prospects, 28 features)</p>
                    </div>
                    
                    <div>
                        <h6>🎯 Model Capabilities:</h6>
                        <div style="margin-left: 20px;">
                            <p>• <span style="color: #28a745;">Conversion Prediction: 85% accuracy</span> - ✅ Production ready</p>
                            <p>• <span style="color: #ffc107;">Customer Segmentation: 5 personas</span> - ⚠️ Behavioral insights</p>
                            <p>• <span style="color: #dc3545;">Lead Scoring: Automated prioritization</span> - ❌ Resource optimization</p>
                            <p>• <span style="color: #6c757d;">Real-time Scoring: API deployment</span> - ✅ Production pipeline</p>
                        </div>
                    </div>
                `
            }
        };

        // Function to toggle impact detail cards
        function toggleImpactCard(impactType) {
            const detailsCard = document.getElementById(impactType + '-details');
            const toggleText = document.getElementById(impactType + '-toggle');
            
            // Close all other cards first
            const allCards = ['revenue', 'roi', 'efficiency', 'productivity'];
            allCards.forEach(card => {
                if (card !== impactType) {
                    const otherCard = document.getElementById(card + '-details');
                    const otherToggle = document.getElementById(card + '-toggle');
                    if (otherCard.style.display === 'block') {
                        otherCard.style.display = 'none';
                        otherToggle.textContent = 'Click for details →';
                    }
                }
            });
            
            // Toggle the clicked card
            if (detailsCard.style.display === 'none' || detailsCard.style.display === '') {
                detailsCard.style.display = 'block';
                toggleText.textContent = 'Click to hide ↑';
                // Smooth scroll to the details card
                setTimeout(() => {
                    detailsCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            } else {
                detailsCard.style.display = 'none';
                toggleText.textContent = 'Click for details →';
            }
        }

        // Add smooth scrolling and interactive elements
        document.addEventListener('DOMContentLoaded', function() {
            // Animate insight numbers on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all insight cards
            document.querySelectorAll('.insight-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });

            // Add click tracking for analytics
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    console.log('Tab clicked:', this.textContent);
                });
            });

            // Add simple event listeners
            // Escape key to close modal
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    const modal = document.getElementById('impactModal');
                    if (modal.style.display === 'block') {
                        closeModal();
                    }
                }
            });

            // Backdrop click to close modal
            document.getElementById('impactModal').addEventListener('click', function(event) {
                if (event.target === this) {
                    closeModal();
                }
            });
            
            console.log('Modal functionality initialized');
            
            // Initialize all charts after DOM is loaded
            createFunnelChart();
            createChannelChart();
            createROIChart();
            createSegmentChart();
            createGeoChart();
            createRiskChart();
            createSankeyChart();
        });

        // 1. Conversion Funnel Chart
        function createFunnelChart() {
            const data = [{
                type: 'funnel',
                y: ['Total Prospects', 'Responded', 'Attended', 'Registered'],
                x: [1000, 338, 117, 127],
                textinfo: 'value+percent initial',
                textposition: 'inside',
                marker: {
                    colors: ['#007A7A', '#7F1734', '#2d3748', '#4a5568'],
                    line: { color: 'white', width: 2 }
                },
                connector: { line: { color: 'rgba(0,122,122,0.3)', dash: 'dot', width: 3 }},
                hovertemplate: '<b>%{y}</b><br>Count: %{x}<br>Conversion: %{percentInitial}<extra></extra>'
            }];

            const layout = {
                title: { text: 'Marketing Conversion Funnel', font: { size: 16, color: '#2d3748' }},
                font: { size: 12, family: 'Arial, sans-serif' },
                margin: { l: 100, r: 50, t: 50, b: 50 },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                annotations: [{
                    text: '66.2% No-Show Rate<br>Major Optimization Opportunity',
                    x: 0.5, y: -0.15,
                    xref: 'paper', yref: 'paper',
                    showarrow: false,
                    font: { size: 11, color: '#dc3545' }
                }]
            };

            Plotly.newPlot('funnelChart', data, layout, { responsive: true, displayModeBar: false });
        }

        // 2. Channel Performance Chart
        function createChannelChart() {
            const data = [{
                x: ['Advertisement', 'Referral', 'Trade Show', 'Social Media'],
                y: [12.7, 25.0, 10.4, 0.0],
                type: 'bar',
                name: 'Conversion Rate (%)',
                marker: {
                    color: ['#dc3545', '#28a745', '#ffc107', '#6c757d'],
                    line: { color: 'white', width: 1 }
                },
                text: ['12.7%', '25.0%', '10.4%', '0.0%'],
                textposition: 'outside',
                hovertemplate: '<b>%{x}</b><br>Conversion: %{y}%<br>Performance: %{text}<extra></extra>'
            }];

            const layout = {
                title: { text: 'Channel Conversion Performance', font: { size: 16, color: '#2d3748' }},
                xaxis: { title: 'Marketing Channel', tickangle: -45 },
                yaxis: { title: 'Conversion Rate (%)' },
                font: { size: 12 },
                margin: { l: 60, r: 50, t: 60, b: 100 },
                plot_bgcolor: 'rgba(248,249,250,0.5)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                annotations: [{
                    text: 'Referral: 2x Better Performance',
                    x: 1, y: 27,
                    showarrow: true,
                    arrowhead: 2,
                    arrowcolor: '#28a745',
                    font: { size: 11, color: '#28a745' }
                }]
            };

            Plotly.newPlot('channelChart', data, layout, { responsive: true, displayModeBar: false });
        }

        // 3. ROI Optimization Chart
        function createROIChart() {
            const data = [{
                x: ['Current State', 'Optimized State'],
                y: [-3.9, 527.6],
                type: 'bar',
                name: 'ROI (%)',
                marker: {
                    color: ['#dc3545', '#28a745'],
                    line: { color: 'white', width: 2 }
                },
                text: ['-3.9%', '+527.6%'],
                textposition: 'outside',
                hovertemplate: '<b>%{x}</b><br>ROI: %{y}%<br>Change: %{text}<extra></extra>'
            }];

            const layout = {
                title: { text: 'ROI Transformation Impact', font: { size: 16, color: '#2d3748' }},
                xaxis: { title: 'Scenario' },
                yaxis: { title: 'Return on Investment (%)' },
                font: { size: 12 },
                margin: { l: 60, r: 50, t: 60, b: 80 },
                plot_bgcolor: 'rgba(248,249,250,0.5)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                annotations: [{
                    text: '+531.5pp Improvement',
                    x: 1, y: 550,
                    showarrow: true,
                    arrowhead: 2,
                    arrowcolor: '#007A7A',
                    font: { size: 12, color: '#007A7A', weight: 'bold' }
                }]
            };

            Plotly.newPlot('roiChart', data, layout, { responsive: true, displayModeBar: false });
        }

        // 4. Customer Segmentation Chart
        function createSegmentChart() {
            const data = [{
                x: [176, 132, 132, 45, 515],
                y: [55.1, 14.4, 6.1, 6.7, 0.0],
                mode: 'markers',
                type: 'scatter',
                marker: {
                    size: [176, 132, 132, 45, 515],
                    sizemode: 'diameter',
                    sizeref: 2.0 * Math.max(515) / (40**2),
                    sizemin: 4,
                    color: ['#007A7A', '#7F1734', '#ffc107', '#17a2b8', '#6c757d'],
                    line: { color: 'white', width: 2 }
                },
                text: ['Cluster 0: High Converters', 'Cluster 1: Tech Specialists', 'Cluster 2: Decision Makers', 'Cluster 3: Mid Managers', 'Cluster 4: Operations'],
                textposition: 'top center',
                hovertemplate: '<b>%{text}</b><br>Prospects: %{x}<br>Conversion: %{y}%<extra></extra>'
            }];

            const layout = {
                title: { text: '5 Customer Segments Analysis', font: { size: 16, color: '#2d3748' }},
                xaxis: { title: 'Segment Size (Number of Prospects)' },
                yaxis: { title: 'Conversion Rate (%)' },
                font: { size: 12 },
                margin: { l: 60, r: 50, t: 80, b: 80 },
                plot_bgcolor: 'rgba(248,249,250,0.5)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                showlegend: false
            };

            Plotly.newPlot('segmentChart', data, layout, { responsive: true, displayModeBar: false });
        }

        // 5. Geographic Performance Chart
        function createGeoChart() {
            const data = [{
                x: ['USA', 'Canada', 'UK', 'Germany', 'France', 'Others'],
                y: [280, 100, 100, 89, 60, 371],
                name: 'Prospects',
                type: 'bar',
                marker: { color: '#007A7A', opacity: 0.7 },
                yaxis: 'y',
                hovertemplate: '<b>%{x}</b><br>Prospects: %{y}<extra></extra>'
            }, {
                x: ['USA', 'Canada', 'UK', 'Germany', 'France', 'Others'],
                y: [11.8, 15.0, 12.0, 14.6, 25.0, 8.9],
                name: 'Conversion Rate',
                type: 'scatter',
                mode: 'lines+markers',
                marker: { color: '#7F1734', size: 8 },
                line: { color: '#7F1734', width: 3 },
                yaxis: 'y2',
                hovertemplate: '<b>%{x}</b><br>Conversion: %{y}%<extra></extra>'
            }];

            const layout = {
                title: { text: 'Geographic Performance Distribution', font: { size: 16, color: '#2d3748' }},
                xaxis: { title: 'Country', tickangle: -45 },
                yaxis: { title: 'Number of Prospects', side: 'left' },
                yaxis2: {
                    title: 'Conversion Rate (%)',
                    side: 'right',
                    overlaying: 'y',
                    tickmode: 'linear'
                },
                font: { size: 12 },
                margin: { l: 60, r: 60, t: 60, b: 100 },
                plot_bgcolor: 'rgba(248,249,250,0.5)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                legend: { x: 0.02, y: 0.98 }
            };

            Plotly.newPlot('geoChart', data, layout, { responsive: true, displayModeBar: false });
        }

        // 6. Monte Carlo Risk Distribution
        function createRiskChart() {
            // Simulate normal distribution for Monte Carlo results
            const mean = 316419;
            const std = 49057;
            const x = [];
            const y = [];
            
            for (let i = 150000; i <= 500000; i += 5000) {
                x.push(i);
                const z = (i - mean) / std;
                const probability = Math.exp(-0.5 * z * z) / (std * Math.sqrt(2 * Math.PI));
                y.push(probability * 1000000); // Scale for visibility
            }

            const data = [{
                x: x,
                y: y,
                type: 'scatter',
                mode: 'lines',
                fill: 'tonexty',
                fillcolor: 'rgba(0,122,122,0.3)',
                line: { color: '#007A7A', width: 3 },
                name: 'Probability Distribution',
                hovertemplate: 'Profit: $%{x:,.0f}<br>Probability: %{y:.2f}<extra></extra>'
            }];

            const layout = {
                title: { text: 'Monte Carlo Profit Distribution (1,000 simulations)', font: { size: 16, color: '#2d3748' }},
                xaxis: { title: 'Expected Profit ($)', tickformat: '$,.0f' },
                yaxis: { title: 'Probability Density', showticklabels: false },
                font: { size: 12 },
                margin: { l: 60, r: 50, t: 60, b: 80 },
                plot_bgcolor: 'rgba(248,249,250,0.5)',
                paper_bgcolor: 'rgba(0,0,0,0)',
                shapes: [{
                    type: 'line',
                    x0: mean, y0: 0,
                    x1: mean, y1: Math.max(...y),
                    line: { color: '#dc3545', width: 2, dash: 'dash' }
                }],
                annotations: [{
                    text: 'Expected: $316,419<br>95% CI: $239K - $397K',
                    x: mean + 50000, y: Math.max(...y) * 0.8,
                    showarrow: true,
                    arrowhead: 2,
                    font: { size: 11, color: '#2d3748' }
                }],
                showlegend: false
            };

            Plotly.newPlot('riskChart', data, layout, { responsive: true, displayModeBar: false });
        }

        // 7. Budget Allocation Sankey Diagram
        function createSankeyChart() {
            const data = [{
                type: 'sankey',
                orientation: 'h',
                node: {
                    pad: 15,
                    thickness: 30,
                    line: { color: 'black', width: 0.5 },
                    label: [
                        'Current Budget', 'Advertisement', 'Referral', 'Trade Show', 'Social Media',
                        'Optimized Budget', 'Advertisement (Opt)', 'Referral (Opt)', 'Trade Show (Opt)',
                        'Current Results', 'Optimized Results'
                    ],
                    color: ['#2d3748', '#dc3545', '#28a745', '#ffc107', '#6c757d', 
                           '#007A7A', '#dc3545', '#28a745', '#ffc107',
                           '#2d3748', '#007A7A']
                },
                link: {
                    source: [0, 0, 0, 0, 5, 5, 5, 1, 2, 3, 4, 6, 7, 8],
                    target: [1, 2, 3, 4, 6, 7, 8, 9, 9, 9, 9, 10, 10, 10],
                    value: [587.3, 4.2, 65.2, 4.2, 352.4, 20.9, 65.2, -25.9, 50.0, -0.2, 0, 100, 500, 65],
                    color: ['rgba(220,53,69,0.3)', 'rgba(40,167,69,0.3)', 'rgba(255,193,7,0.3)', 'rgba(108,117,125,0.3)',
                           'rgba(220,53,69,0.5)', 'rgba(40,167,69,0.5)', 'rgba(255,193,7,0.5)',
                           'rgba(220,53,69,0.2)', 'rgba(40,167,69,0.2)', 'rgba(255,193,7,0.2)', 'rgba(108,117,125,0.2)',
                           'rgba(220,53,69,0.4)', 'rgba(40,167,69,0.4)', 'rgba(255,193,7,0.4)']
                }
            }];

            const layout = {
                title: { text: 'Budget Reallocation Flow Analysis', font: { size: 16, color: '#2d3748' }},
                font: { size: 12 },
                margin: { l: 50, r: 50, t: 60, b: 50 },
                plot_bgcolor: 'rgba(0,0,0,0)',
                paper_bgcolor: 'rgba(0,0,0,0)'
            };

            Plotly.newPlot('sankeyChart', data, layout, { responsive: true, displayModeBar: false });
        }
    </script>
</body>
</html>